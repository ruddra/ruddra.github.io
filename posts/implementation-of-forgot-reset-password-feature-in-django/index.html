<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=yandex-verification content="3ccce49727df78e2"><title>Implementation of Forgot/Reset Password Feature in Django</title><meta name=description content="Django has its own implementation for reset or forgot password for its admin site. We are going to use that piece of code as reference to implement similar feature for a non admin site authentication page."><link rel=preload href=/fonts/pt-serif-400-i-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-i-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-i-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-i-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-i-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-i-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-i-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-latin.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-i-latin.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-latin.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-i-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-i-latin.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-latin.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-i-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-latin.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-i-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-latin-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-i-latin.woff2 as=font><link rel=preload href=/fonts/pt-sans-700-i-latin.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-i-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-sans-400-cyrillic.woff2 as=font><link rel=preload href=/fonts/pt-serif-700-i-cyrillic-ext.woff2 as=font><link rel=preload href=/fonts/pt-serif-400-cyrillic.woff2 as=font><link rel=stylesheet href=https://ruddra.com/css/bundle.min.cfc5b011e33aa988ccde2d059305414b033bc45b0c78062554348cbe776a77b5.css integrity="sha256-z8WwEeM6qYjM3i0FkwVBSwM7xFsMeAYlVDSMvndqd7U=" async><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon.png><link rel="shortcut icon" href=/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/sitemap.xml><meta name=generator content="Hugo 0.64.0"><meta name=twitter:card content="summary_large_image"><meta name=robots content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="Ruddra.com | Blog by Arnab Kumar Shil"><meta property="article:publisher" content="https://ruddra.com"><meta property="article:section" content="Bulletin"><meta property="article:published_time" content="2014-10-21T00:00:00.00Z"><meta property="article:modified_time" content="2020-04-05T00:00:00.00Z"><meta property="og:updated_time" content="2020-04-05T00:00:00.00Z"><meta property="og:image" content="https://ruddra.com/content/images/2020/03/reset.jpg"><meta property="og:image:secure_url" content="https://ruddra.com/content/images/2020/03/reset.jpg"><meta property="og:image:width" content="720"><meta property="og:image:height" content="350"><meta name=twitter:title content="Implementation of Forgot/Reset Password Feature in Django"><meta name=twitter:description content="Django has its own implementation for reset or forgot password for its admin site. We are going to use that piece of code as reference to implement similar feature for a non admin site authentication page."><meta property="og:type" content="article"><meta property="og:title" content="Implementation of Forgot/Reset Password Feature in Django"><meta property="og:description" content="Django has its own implementation for reset or forgot password for its admin site. We are going to use that piece of code as reference to implement similar feature for a non admin site authentication page."><meta name=twitter:image content="https://ruddra.com/content/images/2020/03/reset.jpg"><meta property="og:image" content="https://ruddra.com/content/images/2020/03/reset.jpg"><meta property="article:tag" content="django"><meta property="article:tag" content="python"><meta property="article:tag" content="ruddra"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","mainEntityOfPage":"https:\/\/ruddra.com\/posts\/implementation-of-forgot-reset-password-feature-in-django\/","identifier":"https:\/\/ruddra.com\/posts\/implementation-of-forgot-reset-password-feature-in-django\/","author":{"@type":"Person","name":"Arnab Kumar Shil","url":"https:\/\/ruddra.com/info/about/"},"logo":"https:\/\/ruddra.com\/favicon-32x32.png","name":"Implementation of Forgot\/Reset Password Feature in Django","headline":"Implementation of Forgot\/Reset Password Feature in Django","description":"Django has its own implementation for reset or forgot password for its admin site. We are going to use that piece of code as reference to implement similar feature for a non admin site authentication page.","inLanguage":"en-US","creator":["Arnab Kumar Shil"],"accountablePerson":"Arnab Kumar Shil","copyrightHolder":"Arnab Kumar Shil","copyrightYear":"2014","dateCreated":"2014-10-21T00:00:00.00Z","datePublished":"2014-10-21T00:00:00.00Z","dateModified":"2020-04-05T00:00:00.00Z","url":"https:\/\/ruddra.com\/posts\/implementation-of-forgot-reset-password-feature-in-django\/","wordCount":"1509","publisher":{"@type":"Organization","name":"Ruddra.com | Blog by Arnab Kumar Shil","url":"https:\/\/ruddra.com","logo":"https:\/\/ruddra.com\/avatar.png"},"image":["https:\/\/ruddra.com\/content\/images\/2020\/03\/reset.jpg"],"keywords":["Tag:Django","Tag:Python","Elevated:true","Tag:Blog"]}</script></head><body><input type=checkbox class=sidebar-checkbox id=sidebar-checkbox><div class=sidebar id=sidebar><div class=sidebar-item><img src=/avatar.jpg><p>Hi! I am Arnab, a full stack developer specializing in <b><a href=/tags/python/>Python</a></b>,
<b><a href=/tags/django/>Django</a></b>, <b><a href=/tags/docker/>Docker</a></b>, <b><a href=/tags/reactjs/>React</a></b>, <b><a href=/tags/openshift/>OpenShift</a></b>.</p><p class=sidebar-icons><a class=icon-side-bar href=https://stackoverflow.com/users/2696165/ruddra target=_blank rel="noopener me" title=stackoverflow><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="10 10 100 100" fill="currentcolor" class="feather"><path d="M84.4 93.8V70.6h7.7v30.9H22.6V70.6h7.7v23.2z"/><path d="M38.8 68.4l37.8 7.9 1.6-7.6-37.8-7.9-1.6 7.6zm5-18 35 16.3 3.2-7-35-16.4-3.2 7.1zm9.7-17.2 29.7 24.7 4.9-5.9-29.7-24.7-4.9 5.9zm19.2-18.3-6.2 4.6 23 31 6.2-4.6-23-31zM38 86h38.6v-7.7H38V86z"/></svg></a><a class=icon-side-bar href=https://github.com/ruddra target=_blank rel="noopener me" title=github><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a class=icon-side-bar href=https://www.linkedin.com/in/ruddraarnab target=_blank rel="noopener me" title=linkedin><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a class=icon-side-bar href=https://medium.com/@ruddra target=_blank rel="noopener me" title=medium><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="none" stroke="none"/><g class="currentLayer"><title>Layer 1</title><path d="M2.846 6.887c.03-.295-.083-.586-.303-.784l-2.24-2.7v-.403h6.958l5.378 11.795 4.728-11.795h6.633v.403l-1.916 1.837c-.165.126-.247.333-.213.538v13.498c-.034.204.048.411.213.537l1.871 1.837v.403h-9.412v-.403l1.939-1.882c.19-.19.19-.246.19-.537v-10.91l-5.389 13.688h-.728l-6.275-13.688v9.174c-.052.385.076.774.347 1.052l2.521 3.058v.404h-7.148v-.404l2.521-3.058c.27-.279.39-.67.325-1.052v-10.608z" id="svg_1" class="selected" opacity="1" fill="#fff" fill-opacity="1"/></g></svg></a><a class=icon-side-bar href=/posts/index.xml target=_blank rel="noopener me" title=rss><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></p></div><nav class=sidebar-nav><a class=sidebar-nav-item href=/>Home</a>
<a class=sidebar-nav-item href=/info/about/>About
Me</a>
<a class=sidebar-nav-item href=/info/privacy/>Privacy Policy</a><form class="sidebar-nav-item search-form" method=get action=/search><input type=text class=tftextinput name=q size=21 maxlength=120><button type=submit class=tfbutton><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="rgb(155,155,155)"><path d="M9.145 18.29c-5.042.0-9.145-4.102-9.145-9.145S4.103.0 9.145.0s9.145 4.103 9.145 9.145-4.102 9.145-9.145 9.145zm0-15.167c-3.321.0-6.022 2.702-6.022 6.022s2.702 6.022 6.022 6.022 6.023-2.702 6.023-6.022-2.702-6.022-6.023-6.022zm9.263 12.443c-.817 1.176-1.852 2.188-3.046 2.981l5.452 5.453 3.014-3.013-5.42-5.421z"/></svg></button></form></nav><div class=sidebar-item><p>&copy; 2020. All rights reserved.</p></div></div><div class=wrap><div class=masthead><div class=container><h3 class=masthead-title><a href=/ title=Home style=color:#cfcdcd>Ruddra</a><small style=color:#838383;font-size:1.25rem>.com</small></h3><form class="masthead-search-form pull-right" method=get action=/search><input type=text class=tftextinput name=q size=21 maxlength=120><button type=submit class=tfbutton><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="rgb(155,155,155)"><path d="M9.145 18.29c-5.042.0-9.145-4.102-9.145-9.145S4.103.0 9.145.0s9.145 4.103 9.145 9.145-4.102 9.145-9.145 9.145zm0-15.167c-3.321.0-6.022 2.702-6.022 6.022s2.702 6.022 6.022 6.022 6.023-2.702 6.023-6.022-2.702-6.022-6.023-6.022zm9.263 12.443c-.817 1.176-1.852 2.188-3.046 2.981l5.452 5.453 3.014-3.013-5.42-5.421z"/></svg></button></form></div></div><div class="container content"><div class=post><h1 class=post-title>Implementation of Forgot/Reset Password Feature in Django</h1><span class=post-date>Oct 21, 2014 &#183; 8 min read &#183;
21 comments</span><div class=img-container><img class=img-center src=https://ruddra.com/content/images/2020/03/reset.jpg alt="Implementation of Forgot/Reset Password Feature in Django"></div><div class=photo-credit>Photo by <a href="https://unsplash.com/@chilinik?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Nikita Kostrykin</a> on Unsplash</div><blockquote><p>This post is deprecated in favour of <a href=https://docs.djangoproject.com/en/2.1/topics/auth/default/#module-django.contrib.auth.views>django authentication views</a></p></blockquote><p>Django has its own implementation for <strong>reset/forgot password</strong> for its admin site. We are going to use that piece of code as reference to implement similar feature for a non admin-site authentication page. Although there are tons of good packages which will allow user to use their password reseting system. But if the system isn&rsquo;t too complex and doesn&rsquo;t need such authentication plugins, then reusing the django&rsquo;s very own implementation can be a good option.</p><p>Class based view is going to be used instead of method based view(for no particular reason, so using either of them is alright.). And please read the comments of the example codes for better understanding of implementation.</p><p>This implementation is going to divided into two parts. First part is sending an email with reset url, and the Second part is clicking the reset url attached in email and entering new password for reset completion.</p><p>Before starting anything, lets look at the django&rsquo;s reset/forgot password&rsquo;s implementation in <em>django/contrib/auth/forms.py</em> (<a href=https://github.com/django/django/blob/89559bcfb096ccc625e0e9ab41e2136fcb32a514/django/contrib/auth/forms.py>source</a>) and <em>django/contrib/auth/views.py</em> (<a href=https://github.com/django/django/blob/89559bcfb096ccc625e0e9ab41e2136fcb32a514/django/contrib/auth/views.py>source</a>).<div class=toc><h2 class=toc>Table of contents</h2><nav id=TableOfContents><ul><li><a href=#implementation-of-sending-an-email-for-forgot-password-with-reset-url>Implementation of sending an email for forgot password with reset url</a><ul><li><a href=#screenshots>Screenshots</a></li></ul></li><li><a href=#implemetation-of-clicking-the-reset-url-and-entering-new-password-for-reset-completation>Implemetation of clicking the reset url and entering new password for reset completation</a><ul><li><a href=#screenshots-1>Screenshots</a></li></ul></nav></div><div></p><h2 id=implementation-of-sending-an-email-for-forgot-password-with-reset-url>Implementation of sending an email for forgot password with reset url<a href=#implementation-of-sending-an-email-for-forgot-password-with-reset-url class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h2><p>First need to configure smtp/email configuration so the system can send email. Gmail&rsquo;s SMTP service is going to be used here.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>EMAIL_USE_TLS</span> <span class=o>=</span> <span class=bp>True</span>
<span class=n>DEFAULT_FROM_EMAIL</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>test@gmail.com</span><span class=s1>&#39;</span>
<span class=n>SERVER_EMAIL</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>test@gmail.com</span><span class=s1>&#39;</span>
<span class=n>EMAIL_HOST</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>smtp.gmail.com</span><span class=s1>&#39;</span>
<span class=n>EMAIL_PORT</span> <span class=o>=</span> <span class=mi>587</span>
<span class=n>EMAIL_HOST_USER</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>test@gmail.com</span><span class=s1>&#39;</span>
<span class=n>EMAIL_HOST_PASSWORD</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>test123##</span><span class=s1>&#39;</span>
<span class=n>EMAIL_BACKEND</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>django.core.mail.backends.smtp.EmailBackend</span><span class=s1>&#39;</span>
</code></pre></div><p>Now we are going to make a <strong>reset password form</strong> where we are going to add an text field which will take either username or email address associated with the corresponding user.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>django</span> <span class=kn>import</span> <span class=n>forms</span>

<span class=k>class</span> <span class=nc>PasswordResetRequestForm</span><span class=p>(</span><span class=n>forms</span><span class=o>.</span><span class=n>Form</span><span class=p>)</span><span class=p>:</span>
    <span class=n>email_or_username</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=p>(</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>Email Or Username</span><span class=s2>&#34;</span><span class=p>)</span><span class=p>,</span> <span class=n>max_length</span><span class=o>=</span><span class=mi>254</span><span class=p>)</span>
</code></pre></div><p>We are going to make a <strong>view</strong> which will check the input email/username and send an email to user&rsquo;s email address(implementation reference: <a href=https://github.com/django/django/blob/89559bcfb096ccc625e0e9ab41e2136fcb32a514/django/contrib/auth/forms.py#L235>source</a>).</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>django.contrib.auth.tokens</span> <span class=kn>import</span> <span class=n>default_token_generator</span>
<span class=kn>from</span> <span class=nn>django.utils.encoding</span> <span class=kn>import</span> <span class=n>force_bytes</span>
<span class=kn>from</span> <span class=nn>django.utils.http</span> <span class=kn>import</span> <span class=n>urlsafe_base64_encode</span><span class=p>,</span> <span class=n>urlsafe_base64_decode</span>
<span class=kn>from</span> <span class=nn>django.template</span> <span class=kn>import</span> <span class=n>loader</span>
<span class=kn>from</span> <span class=nn>django.core.validators</span> <span class=kn>import</span> <span class=n>validate_email</span>
<span class=kn>from</span> <span class=nn>django.core.exceptions</span> <span class=kn>import</span> <span class=n>ValidationError</span>
<span class=kn>from</span> <span class=nn>django.core.mail</span> <span class=kn>import</span> <span class=n>send_mail</span>
<span class=kn>from</span> <span class=nn>settings</span> <span class=kn>import</span> <span class=n>DEFAULT_FROM_EMAIL</span>
<span class=kn>from</span> <span class=nn>django.views.generic</span> <span class=kn>import</span> <span class=o>*</span>
<span class=kn>from</span> <span class=nn>utils.forms.reset_password_form</span> <span class=kn>import</span> <span class=n>PasswordResetRequestForm</span>
<span class=kn>from</span> <span class=nn>django.contrib</span> <span class=kn>import</span> <span class=n>messages</span>
<span class=kn>from</span> <span class=nn>django.contrib.auth.models</span> <span class=kn>import</span> <span class=n>User</span>
<span class=kn>from</span> <span class=nn>django.db.models.query_utils</span> <span class=kn>import</span> <span class=n>Q</span>

<span class=k>class</span> <span class=nc>ResetPasswordRequestView</span><span class=p>(</span><span class=n>FormView</span><span class=p>)</span><span class=p>:</span>
    <span class=n>template_name</span> <span class=o>=</span> <span class=sa></span><span class=s2>&#34;</span><span class=s2>account/test_template.html</span><span class=s2>&#34;</span>    <span class=c1>#code for template is given below the view&#39;s code</span>
    <span class=n>success_url</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>/account/login</span><span class=s1>&#39;</span>
    <span class=n>form_class</span> <span class=o>=</span> <span class=n>PasswordResetRequestForm</span>

    <span class=nd>@staticmethod</span>
    <span class=k>def</span> <span class=nf>validate_email_address</span><span class=p>(</span><span class=n>email</span><span class=p>)</span><span class=p>:</span>
    <span class=sa></span><span class=s1>&#39;&#39;&#39;</span><span class=s1>
</span><span class=s1></span><span class=s1>    This method here validates the if the input is an email address or not. Its return type is boolean, True if the input is a email address or False if its not.</span><span class=s1>
</span><span class=s1></span><span class=s1>    </span><span class=s1>&#39;&#39;&#39;</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>validate_email</span><span class=p>(</span><span class=n>email</span><span class=p>)</span>
            <span class=k>return</span> <span class=bp>True</span>
        <span class=k>except</span> <span class=n>ValidationError</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>False</span>

    <span class=k>def</span> <span class=nf>post</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>*</span><span class=o>*</span><span class=n>kwargs</span><span class=p>)</span><span class=p>:</span>
    <span class=sa></span><span class=s1>&#39;&#39;&#39;</span><span class=s1>
</span><span class=s1></span><span class=s1>    A normal post request which takes input from field </span><span class=s1>&#34;</span><span class=s1>email_or_username</span><span class=s1>&#34;</span><span class=s1> (in ResetPasswordRequestForm).</span><span class=s1>
</span><span class=s1></span><span class=s1>    </span><span class=s1>&#39;&#39;&#39;</span>
        <span class=n>form</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_class</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>POST</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>form</span><span class=o>.</span><span class=n>is_valid</span><span class=p>(</span><span class=p>)</span><span class=p>:</span>
            <span class=n>data</span><span class=o>=</span> <span class=n>form</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>email_or_username</span><span class=s2>&#34;</span><span class=p>]</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>validate_email_address</span><span class=p>(</span><span class=n>data</span><span class=p>)</span> <span class=ow>is</span> <span class=bp>True</span><span class=p>:</span>                 <span class=c1>#uses the method written above</span>
            <span class=sa></span><span class=s1>&#39;&#39;&#39;</span><span class=s1>
</span><span class=s1></span><span class=s1>            If the input is an valid email address, then the following code will lookup for users associated with that email address. If found then an email will be sent to the address, else an error message will be printed on the screen.</span><span class=s1>
</span><span class=s1></span><span class=s1>            </span><span class=s1>&#39;&#39;&#39;</span>
            <span class=n>associated_users</span><span class=o>=</span> <span class=n>User</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>Q</span><span class=p>(</span><span class=n>email</span><span class=o>=</span><span class=n>data</span><span class=p>)</span><span class=o>|</span><span class=n>Q</span><span class=p>(</span><span class=n>username</span><span class=o>=</span><span class=n>data</span><span class=p>)</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>associated_users</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=p>)</span><span class=p>:</span>
                <span class=k>for</span> <span class=n>user</span> <span class=ow>in</span> <span class=n>associated_users</span><span class=p>:</span>
                        <span class=n>c</span> <span class=o>=</span> <span class=p>{</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>email</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=p>,</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>domain</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>META</span><span class=p>[</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>HTTP_HOST</span><span class=s1>&#39;</span><span class=p>]</span><span class=p>,</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>site_name</span><span class=s1>&#39;</span><span class=p>:</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>your site</span><span class=s1>&#39;</span><span class=p>,</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>uid</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>urlsafe_base64_encode</span><span class=p>(</span><span class=n>force_bytes</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>pk</span><span class=p>)</span><span class=p>)</span><span class=p>,</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>user</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>user</span><span class=p>,</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>token</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>default_token_generator</span><span class=o>.</span><span class=n>make_token</span><span class=p>(</span><span class=n>user</span><span class=p>)</span><span class=p>,</span>
                            <span class=sa></span><span class=s1>&#39;</span><span class=s1>protocol</span><span class=s1>&#39;</span><span class=p>:</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>http</span><span class=s1>&#39;</span><span class=p>,</span>
                            <span class=p>}</span>
                        <span class=n>subject_template_name</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>registration/password_reset_subject.txt</span><span class=s1>&#39;</span>
                        <span class=c1># copied from django/contrib/admin/templates/registration/password_reset_subject.txt to templates directory</span>
                        <span class=n>email_template_name</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>registration/password_reset_email.html</span><span class=s1>&#39;</span>
                        <span class=c1># copied from django/contrib/admin/templates/registration/password_reset_email.html to templates directory</span>
                        <span class=n>subject</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>render_to_string</span><span class=p>(</span><span class=n>subject_template_name</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
                        <span class=c1># Email subject *must not* contain newlines</span>
                        <span class=n>subject</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>subject</span><span class=o>.</span><span class=n>splitlines</span><span class=p>(</span><span class=p>)</span><span class=p>)</span>
                        <span class=n>email</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>render_to_string</span><span class=p>(</span><span class=n>email_template_name</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
                        <span class=n>send_mail</span><span class=p>(</span><span class=n>subject</span><span class=p>,</span> <span class=n>email</span><span class=p>,</span> <span class=n>DEFAULT_FROM_EMAIL</span> <span class=p>,</span> <span class=p>[</span><span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=p>]</span><span class=p>,</span> <span class=n>fail_silently</span><span class=o>=</span><span class=bp>False</span><span class=p>)</span>
                <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_valid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
                <span class=n>messages</span><span class=o>.</span><span class=n>success</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>An email has been sent to </span><span class=s1>&#39;</span> <span class=o>+</span> <span class=n>data</span> <span class=o>+</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>. Please check its inbox to continue reseting password.</span><span class=s2>&#34;</span><span class=p>)</span>
                <span class=k>return</span> <span class=n>result</span>
            <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_invalid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
            <span class=n>messages</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>No user is associated with this email address</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>result</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=sa></span><span class=s1>&#39;&#39;&#39;</span><span class=s1>
</span><span class=s1></span><span class=s1>            If the input is an username, then the following code will lookup for users associated with that user. If found then an email will be sent to the user</span><span class=s1>&#39;</span><span class=s1>s address, else an error message will be printed on the screen.</span><span class=s1>
</span><span class=s1></span><span class=s1>            </span><span class=s1>&#39;&#39;&#39;</span>
            <span class=n>associated_users</span><span class=o>=</span> <span class=n>User</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>username</span><span class=o>=</span><span class=n>data</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>associated_users</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=p>)</span><span class=p>:</span>
                <span class=k>for</span> <span class=n>user</span> <span class=ow>in</span> <span class=n>associated_users</span><span class=p>:</span>
                    <span class=n>c</span> <span class=o>=</span> <span class=p>{</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>email</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=p>,</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>domain</span><span class=s1>&#39;</span><span class=p>:</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>example.com</span><span class=s1>&#39;</span><span class=p>,</span> <span class=c1>#or your domain</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>site_name</span><span class=s1>&#39;</span><span class=p>:</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>example</span><span class=s1>&#39;</span><span class=p>,</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>uid</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>urlsafe_base64_encode</span><span class=p>(</span><span class=n>force_bytes</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>pk</span><span class=p>)</span><span class=p>)</span><span class=p>,</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>user</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>user</span><span class=p>,</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>token</span><span class=s1>&#39;</span><span class=p>:</span> <span class=n>default_token_generator</span><span class=o>.</span><span class=n>make_token</span><span class=p>(</span><span class=n>user</span><span class=p>)</span><span class=p>,</span>
                        <span class=sa></span><span class=s1>&#39;</span><span class=s1>protocol</span><span class=s1>&#39;</span><span class=p>:</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>http</span><span class=s1>&#39;</span><span class=p>,</span>
                        <span class=p>}</span>
                    <span class=n>subject_template_name</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>registration/password_reset_subject.txt</span><span class=s1>&#39;</span>
                    <span class=n>email_template_name</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>registration/password_reset_email.html</span><span class=s1>&#39;</span>
                    <span class=n>subject</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>render_to_string</span><span class=p>(</span><span class=n>subject_template_name</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
                    <span class=c1># Email subject *must not* contain newlines</span>
                    <span class=n>subject</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>subject</span><span class=o>.</span><span class=n>splitlines</span><span class=p>(</span><span class=p>)</span><span class=p>)</span>
                    <span class=n>email</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>render_to_string</span><span class=p>(</span><span class=n>email_template_name</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
                    <span class=n>send_mail</span><span class=p>(</span><span class=n>subject</span><span class=p>,</span> <span class=n>email</span><span class=p>,</span> <span class=n>DEFAULT_FROM_EMAIL</span> <span class=p>,</span> <span class=p>[</span><span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=p>]</span><span class=p>,</span> <span class=n>fail_silently</span><span class=o>=</span><span class=bp>False</span><span class=p>)</span>
                <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_valid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
                <span class=n>messages</span><span class=o>.</span><span class=n>success</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>Email has been sent to </span><span class=s1>&#39;</span> <span class=o>+</span> <span class=n>data</span> <span class=o>+</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>&#39;</span><span class=s2>s email address. Please check its inbox to continue reseting password.</span><span class=s2>&#34;</span><span class=p>)</span>
                <span class=k>return</span> <span class=n>result</span>
            <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_invalid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
            <span class=n>messages</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>This username does not exist in the system.</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>result</span>
        <span class=n>messages</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>Invalid Input</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_invalid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
</code></pre></div><p>As you see above, the code is fairly simple(although it looks long). An encoded user id has been generated here using <strong>urlsafe</strong>base64_<strong>encode(force___bytes(user.pk))</strong> and a token by using <strong>default</strong><em>token</em><strong>generator.make___token(user)</strong>. This user id is going to be used later to get the user, the token will be used for checking validity of the url for that user and both the token and the user id is going to be used as unique reference for reset password url. <strong>c</strong> is a dictionary which has user id, token and other related data etc. This dictionary is going to be blent with the template <code>registration/password_reset_email.html</code> and send to the user&rsquo;s email address.</p><p>For displaying messages(if you are using messages framework of django-1.7, details: <a href=https://docs.djangoproject.com/en/dev/ref/contrib/messages/#displaying-messages>source</a>), add this piece of code in your template:</p><div class=highlight><pre class=chroma><code class=language-django data-lang=django><span class=c>{# test template #}</span><span class=x>
</span><span class=x>&lt;!-- code for displaying success or error message in template --&gt;
</span><span class=x></span><span class=cp>{%</span> <span class=k>if</span> <span class=nv>messages</span> <span class=cp>%}</span><span class=x>
</span><span class=x>&lt;ul class=&#34;messages&#34;&gt;
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>for</span> <span class=nv>message</span> <span class=k>in</span> <span class=nv>messages</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    &lt;li&gt;</span><span class=cp>{%</span> <span class=k>if</span> <span class=nv>message</span><span class=nv>.tags</span> <span class=cp>%}</span><span class=x> class=&#34;</span><span class=cp>{{</span> <span class=nv>message</span><span class=nv>.tags</span> <span class=cp>}}</span><span class=x>&#34;</span><span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span><span class=x>&gt;</span><span class=cp>{{</span> <span class=nv>message</span> <span class=cp>}}</span><span class=x>&lt;/li&gt;
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>endfor</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span><span class=x>
</span><span class=x>&lt;/ul&gt;
</span><span class=x>
</span><span class=x>&lt;!-- Form rendering code for template --&gt;
</span><span class=x>&lt;form action=&#34;&#34; method=&#34;post&#34;&gt;
</span><span class=x>
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>csrf_token</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{{</span> <span class=nv>form</span><span class=nv>.as_p</span> <span class=cp>}}</span><span class=x>
</span><span class=x>
</span><span class=x>    &lt;input type=&#34;submit&#34; value=&#34;Submit&#34; /&gt;
</span><span class=x>&lt;/form&gt;
</span></code></pre></div><p>Two more things before wrapping up sending email part. One, making a url for using this view.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>urlpatterns</span> <span class=o>=</span> <span class=n>patterns</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>&#39;</span><span class=p>,</span>
                        <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;</span><span class=s1>^admin/</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>include</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>site</span><span class=o>.</span><span class=n>urls</span><span class=p>)</span><span class=p>)</span><span class=p>,</span>
                        <span class=c1># url(r&#39;^account/reset_password_confirm/(?P&lt;uidb64&gt;[0-9A-Za-z]+)-(?P&lt;token&gt;.+)/$&#39;, PasswordResetConfirmView.as_view(),name=&#39;reset_password_confirm&#39;),</span>
                        <span class=c1># PS: url above is going to used for next section of implementation.</span>
                        <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;</span><span class=s1>^account/reset_password</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>ResetPasswordRequestView</span><span class=o>.</span><span class=n>as_view</span><span class=p>(</span><span class=p>)</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>reset_password</span><span class=s2>&#34;</span><span class=p>)</span><span class=p>,</span>
                        <span class=p>)</span>
</code></pre></div><p>Two, editing the template of <strong>registration/password_reset_email.html</strong> or else you will get errors.</p><div class=highlight><pre class=chroma><code class=language-django data-lang=django><span class=cp>{%</span> <span class=k>load</span> <span class=nv>i18n</span> <span class=cp>%}</span><span class=cp>{%</span> <span class=k>autoescape</span> <span class=nv>off</span> <span class=cp>%}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>blocktrans</span> <span class=cp>%}</span><span class=x>You&#39;re receiving this email because you requested a password reset for your user account at </span><span class=cp>{{</span> <span class=nv>site_name</span> <span class=cp>}}</span><span class=x>.</span><span class=cp>{%</span> <span class=k>endblocktrans</span> <span class=cp>%}</span><span class=x>
</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>trans</span> <span class=s2>&#34;Please go to the following page and choose a new password:&#34;</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>block</span> <span class=nv>reset_link</span> <span class=cp>%}</span><span class=x>
</span><span class=x>        </span><span class=cp>{{</span> <span class=nv>domain</span> <span class=cp>}}</span><span class=cp>{%</span> <span class=k>url</span> <span class=s1>&#39;reset_password_confirm&#39;</span> <span class=nv>uidb64</span><span class=o>=</span><span class=nv>uid</span> <span class=nv>token</span><span class=o>=</span><span class=nv>token</span> <span class=cp>%}</span><span class=x>
</span><span class=x>        &lt;!--This is the only change from ` django/contrib/admin/templates/registration/password_reset_subject.html`. the url name is commented out in urls.py section. The view associated with the url is going to described later in this post. --&gt;
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>endblock</span> <span class=cp>%}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>trans</span> <span class=s2>&#34;Your username, in case you&#39;ve forgotten:&#34;</span> <span class=cp>%}</span><span class=x> </span><span class=cp>{{</span> <span class=nv>user</span><span class=nv>.get_username</span> <span class=cp>}}</span><span class=x>
</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>trans</span> <span class=s2>&#34;Thanks for using our site!&#34;</span> <span class=cp>%}</span><span class=x>
</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>blocktrans</span> <span class=cp>%}</span><span class=x>The </span><span class=cp>{{</span> <span class=nv>site_name</span> <span class=cp>}}</span><span class=x> team</span><span class=cp>{%</span> <span class=k>endblocktrans</span> <span class=cp>%}</span><span class=x>
</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>endautoescape</span> <span class=cp>%}</span><span class=x>
</span></code></pre></div><p>Now run the server and you will see forms like the screen shots below: (This screenshots look cool because django adminsite&rsquo;s js/css have been used here.)
(**Image sequence is according the implementation flow)</p><h3 id=screenshots>Screenshots<a href=#screenshots class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h3><h4 id=rendered-template-from-passwordresetrequestform-form>Rendered template from PasswordResetRequestForm form<a href=#rendered-template-from-passwordresetrequestform-form class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h4><p><img src=/content/git/django-reset-password/reset-password.jpg alt="django reset"></p><h4 id=rendered-template-from-passwordresetrequestform-form-with-error-messages>Rendered template from PasswordResetRequestForm form with error messages<a href=#rendered-template-from-passwordresetrequestform-form-with-error-messages class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h4><p><img src=/content/git/django-reset-password/invalid-username.jpg alt="django reset"></p><h4 id=rendered-template-of-login-form-with-sent-email-confirmation-message>Rendered template of login form with sent email confirmation message<a href=#rendered-template-of-login-form-with-sent-email-confirmation-message class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h4><p><img src=/content/git/django-reset-password/reset-mail-sent.jpg alt="django reset"></p><h4 id=sent-email-look>Sent Email look<a href=#sent-email-look class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h4><p><img src=/content/git/django-reset-password/reset-email.jpg alt="django reset"></p><h2 id=implemetation-of-clicking-the-reset-url-and-entering-new-password-for-reset-completation>Implemetation of clicking the reset url and entering new password for reset completation<a href=#implemetation-of-clicking-the-reset-url-and-entering-new-password-for-reset-completation class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h2><p>First, lets write a <strong>form</strong> which will have two fields new password and retype password field.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>SetPasswordForm</span><span class=p>(</span><span class=n>forms</span><span class=o>.</span><span class=n>Form</span><span class=p>)</span><span class=p>:</span>
    <span class=sa></span><span class=s2>&#34;&#34;&#34;</span><span class=s2>
</span><span class=s2></span><span class=s2>    A form that lets a user change set their password without entering the old</span><span class=s2>
</span><span class=s2></span><span class=s2>    password</span><span class=s2>
</span><span class=s2></span><span class=s2>    </span><span class=s2>&#34;&#34;&#34;</span>
    <span class=n>error_messages</span> <span class=o>=</span> <span class=p>{</span>
        <span class=sa></span><span class=s1>&#39;</span><span class=s1>password_mismatch</span><span class=s1>&#39;</span><span class=p>:</span> <span class=p>(</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>The two password fields didn</span><span class=s2>&#39;</span><span class=s2>t match.</span><span class=s2>&#34;</span><span class=p>)</span><span class=p>,</span>
        <span class=p>}</span>
    <span class=n>new_password1</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=p>(</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>New password</span><span class=s2>&#34;</span><span class=p>)</span><span class=p>,</span>
                                    <span class=n>widget</span><span class=o>=</span><span class=n>forms</span><span class=o>.</span><span class=n>PasswordInput</span><span class=p>)</span>
    <span class=n>new_password2</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=p>(</span><span class=sa></span><span class=s2>&#34;</span><span class=s2>New password confirmation</span><span class=s2>&#34;</span><span class=p>)</span><span class=p>,</span>
                                    <span class=n>widget</span><span class=o>=</span><span class=n>forms</span><span class=o>.</span><span class=n>PasswordInput</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>clean_new_password2</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span><span class=p>:</span>
        <span class=n>password1</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>new_password1</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=n>password2</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>new_password2</span><span class=s1>&#39;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>password1</span> <span class=ow>and</span> <span class=n>password2</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>password1</span> <span class=o>!=</span> <span class=n>password2</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>forms</span><span class=o>.</span><span class=n>ValidationError</span><span class=p>(</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>error_messages</span><span class=p>[</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>password_mismatch</span><span class=s1>&#39;</span><span class=p>]</span><span class=p>,</span>
                    <span class=n>code</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>password_mismatch</span><span class=s1>&#39;</span><span class=p>,</span>
                    <span class=p>)</span>
        <span class=k>return</span> <span class=n>password2</span>
</code></pre></div><p>It will take two password input and verify if they match, if those inputs match(in clean method), it will return password. Now using that form, we are going to write a view(reference for implementation:(<a href=https://github.com/django/django/blob/731f313d604a6cc141f36d8a1ba9a75790c70154/django/contrib/auth/views.py#L192%22>source</a>).</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>PasswordResetConfirmView</span><span class=p>(</span><span class=n>FormView</span><span class=p>)</span><span class=p>:</span>
    <span class=n>template_name</span> <span class=o>=</span> <span class=sa></span><span class=s2>&#34;</span><span class=s2>account/test_template.html</span><span class=s2>&#34;</span>
    <span class=n>success_url</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>/admin/</span><span class=s1>&#39;</span>
    <span class=n>form_class</span> <span class=o>=</span> <span class=n>SetPasswordForm</span>

    <span class=k>def</span> <span class=nf>post</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>uidb64</span><span class=o>=</span><span class=bp>None</span><span class=p>,</span> <span class=n>token</span><span class=o>=</span><span class=bp>None</span><span class=p>,</span> <span class=o>*</span><span class=n>arg</span><span class=p>,</span> <span class=o>*</span><span class=o>*</span><span class=n>kwargs</span><span class=p>)</span><span class=p>:</span>
        <span class=sa></span><span class=s2>&#34;&#34;&#34;</span><span class=s2>
</span><span class=s2></span><span class=s2>        View that checks the hash in a password reset link and presents a</span><span class=s2>
</span><span class=s2></span><span class=s2>        form for entering a new password.</span><span class=s2>
</span><span class=s2></span><span class=s2>        </span><span class=s2>&#34;&#34;&#34;</span>
        <span class=n>UserModel</span> <span class=o>=</span> <span class=n>get_user_model</span><span class=p>(</span><span class=p>)</span>
        <span class=n>form</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_class</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>POST</span><span class=p>)</span>
        <span class=k>assert</span> <span class=n>uidb64</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span> <span class=ow>and</span> <span class=n>token</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span>  <span class=c1># checked by URLconf</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>uid</span> <span class=o>=</span> <span class=n>urlsafe_base64_decode</span><span class=p>(</span><span class=n>uidb64</span><span class=p>)</span>
            <span class=n>user</span> <span class=o>=</span> <span class=n>UserModel</span><span class=o>.</span><span class=n>_default_manager</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>pk</span><span class=o>=</span><span class=n>uid</span><span class=p>)</span>
        <span class=k>except</span> <span class=p>(</span><span class=ne>TypeError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>,</span> <span class=ne>OverflowError</span><span class=p>,</span> <span class=n>UserModel</span><span class=o>.</span><span class=n>DoesNotExist</span><span class=p>)</span><span class=p>:</span>
            <span class=n>user</span> <span class=o>=</span> <span class=bp>None</span>

        <span class=k>if</span> <span class=n>user</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span> <span class=ow>and</span> <span class=n>default_token_generator</span><span class=o>.</span><span class=n>check_token</span><span class=p>(</span><span class=n>user</span><span class=p>,</span> <span class=n>token</span><span class=p>)</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>form</span><span class=o>.</span><span class=n>is_valid</span><span class=p>(</span><span class=p>)</span><span class=p>:</span>
                <span class=n>new_password</span><span class=o>=</span> <span class=n>form</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>new_password2</span><span class=s1>&#39;</span><span class=p>]</span>
                <span class=n>user</span><span class=o>.</span><span class=n>set_password</span><span class=p>(</span><span class=n>new_password</span><span class=p>)</span>
                <span class=n>user</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=p>)</span>
                <span class=n>messages</span><span class=o>.</span><span class=n>success</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>Password has been reset.</span><span class=s1>&#39;</span><span class=p>)</span>
                <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_valid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>messages</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>Password reset has not been unsuccessful.</span><span class=s1>&#39;</span><span class=p>)</span>
                <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_invalid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>messages</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>request</span><span class=p>,</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>The reset password link is no longer valid.</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>form_invalid</span><span class=p>(</span><span class=n>form</span><span class=p>)</span>
</code></pre></div><p>URL for this view:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>urlpatterns</span> <span class=o>+</span><span class=o>=</span> <span class=n>patterns</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>&#39;</span><span class=p>,</span>
                        <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;</span><span class=s1>^admin/</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>include</span><span class=p>(</span><span class=n>admin</span><span class=o>.</span><span class=n>site</span><span class=o>.</span><span class=n>urls</span><span class=p>)</span><span class=p>)</span><span class=p>,</span>
                        <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;</span><span class=s1>^account/reset_password_confirm/(?P&lt;uidb64&gt;[0-9A-Za-z]+)-(?P&lt;token&gt;.+)/$</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>PasswordResetConfirmView</span><span class=o>.</span><span class=n>as_view</span><span class=p>(</span><span class=p>)</span><span class=p>,</span><span class=n>name</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>reset_password_confirm</span><span class=s1>&#39;</span><span class=p>)</span><span class=p>,</span>
                    <span class=p>)</span>
</code></pre></div><p>Well <strong>PasswordResetConfirmView</strong> takes two parameter from urls, uidb64 and token, those were sent within email generated by <strong>ResetPasswordRequestView</strong>. We got user id hence the user by decoding <strong>uid64</strong> by using <strong>urlsafe</strong>base64<strong>decode</strong>, and function <strong>default</strong><em>token</em><strong>generator.check__token</strong> checks the token against the user. If they are valid and the form is valid, we set new password for the user using <strong>.set__password(&lsquo;password&rsquo;)</strong> function. If they are not valid, it will show an error message saying the url is no longer valid.</p><p>More screenshots:(sequencial to implementation)</p><h3 id=screenshots-1>Screenshots<a href=#screenshots-1 class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h3><h4 id=rendered-template-for-setpasswordform-form>Rendered template for SetPasswordForm form<a href=#rendered-template-for-setpasswordform-form class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h4><p><img src=/content/git/django-reset-password/reset-password-prompt.jpg alt="django reset"></p><h4 id=reset-successful>Reset successful<a href=#reset-successful class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h4><p><img src=/content/git/django-reset-password/reset-success.jpg alt="django reset"></p><p>Thus you implement your very own forgot or reset the password.</p><h5 id=for-full-projectimplementation-please-checkfork-this-repositoryhttpsgithubcomskyrudydjango-reset-passwordtreemaster-this-code-has-been-tested-for-python3-and-django-17110->For full project/implementation, please check/fork this <a href=https://github.com/skyrudy/django-reset-password/tree/master>repository</a>. This code has been tested for Python3 and django 1.7/1.10 .<a href=#for-full-projectimplementation-please-checkfork-this-repositoryhttpsgithubcomskyrudydjango-reset-passwordtreemaster-this-code-has-been-tested-for-python3-and-django-17110- class=hanchor arialabel=Anchor> <svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>&#xFE0E;</a></h5></div><br><p><a class=tag-class href=/tags/django>Django</a> <a class=tag-class href=/tags/python>Python</a></p><div class=newsletter-section><h2>Get Better With Django</h2><div id=commento class="commento-root commento-root-font"><div id=newsletter-error class=commento-error-box style=display:none>An error occurred when submitting the form, please try again.</div><div id=newsletter-submitted style=display:none><b>Thank you for your subscription to newsletters.<br>You will start recieving emails from next iteration.</b><br><br></div><div id=newsletter-body><div>Subscribe to get monthly articles about Django and more.<br>We won't spam you. Unsubscribe at any time.</div><br><div id=commento-main-area class=commento-main-area><form id=comment-form method=post action=https://ruddra-comments.herokuapp.com/v2/entry/ruddra/ruddra.comments/master/comments><input type=hidden name=options[redirect] value=https://ruddra.com/posts/implementation-of-forgot-reset-password-feature-in-django/#newsletter-submitted>
<input type=hidden name=options[slug] value=newsletter-subscription>
<input type=hidden name=options[parent] value=newsletter-subscription>
<input type=hidden name=options[origin] value=https://ruddra.com/newsletters/>
<input type=hidden name=options[redirectError] value=https://ruddra.com/posts/implementation-of-forgot-reset-password-feature-in-django/#newsletter-error><div id=commento-login class=commento-login><input type=email name=fields[email] placeholder="Your email address" style="padding-left:10px;width:90%;line-height:2;border:1px solid rgba(50,50,93,.1)" required></div><div style=width:95.8%><button id=commento-submit-button-root type=submit class="commento-button commento-submit-button">Subscribe</button><div class="commento-round-check commento-anonymous-checkbox-container"><input id=commento-checkbox-root name=options[subscribe] type=checkbox value=email required><label for=commento-checkbox-root>I agree to receive
emails</label></div></div></form></div></div></div></div><script>if(window.location.hash=="#newsletter-submitted"){var $comTarget=document.getElementById('newsletter-submitted');$comTarget.style.display='block';var $comTarget=document.getElementById('newsletter-body');$comTarget.style.display='none';}else if(window.location.hash=="#newsletter-error"){var $comTarget=document.getElementById('newsletter-error');$comTarget.style.display='block';}</script><div class=pagination><div class="pagination-item older"><span class=pagination-arrow>&#8592; Previous</span><div class=pagination-link><a href=https://ruddra.com/posts/perodic-tasks-by-celery-3-1-example/>Perodic Tasks By Celery 3.1 Example</a></div><div class=pagination-image><img src=https://ruddra.com/content/images/2020/03/celery.jpg alt="Perodic Tasks By Celery 3.1 Example"></div><p class=pagination-text>This post is deprecated. It is no longer compatible with latest Celery versions.
I am assuming you have read celery </p></div><div class="pagination-item newer"><span class=pagination-arrow>Next &#8594;</span><div class=pagination-link><a href=https://ruddra.com/posts/using-intellijidea-within-an-exisiting-virtualenv/>Using IntellijIdea/Pycharm Within An Exisiting Virtualenv</a></div><div class=pagination-image><img src=https://ruddra.com/content/images/2019/02/pycharm.jpg alt="Using IntellijIdea/Pycharm Within An Exisiting Virtualenv"></div><p class=pagination-text>To add a virtual environment to Intellij Idea, You have added Python from virtualenv folder to project SDK. Which means </p></div></div><div class=tiny><div id=commento class="commento-root commento-root-font"><div id=comment-submitted style=display:none><h3><i>Thank you for your comment. It will be published once approved.</i></h3><br></div><div id=comment-error class=commento-error-box style=display:none>An error occurred when submitting the form, please try again.</div><div id=commento-mod-tools class=commento-mod-tools style=display:none><button id=commento-mod-tools-lock-button>Lock Thread</button></div><div id=commento-main-area class=commento-main-area><form id=comment-form method=post action=https://ruddra-comments.herokuapp.com/v2/entry/ruddra/ruddra.comments/master/comments><input type=hidden name=options[redirect] value=https://ruddra.com/posts/implementation-of-forgot-reset-password-feature-in-django/#comment-submitted>
<input type=hidden name=options[slug] value=implementation-of-forgot-reset-password-feature-in-django>
<input type=hidden name=options[parent] value=implementation-of-forgot-reset-password-feature-in-django>
<input type=hidden name=options[origin] value=https://ruddra.com/posts/implementation-of-forgot-reset-password-feature-in-django/>
<input type=hidden id=comment-parent name=fields[reply_to]>
<input type=hidden name=options[redirectError] value=https://ruddra.com/posts/implementation-of-forgot-reset-password-feature-in-django/#comment-error><div id=commento-logged-container class=commento-logged-container><div class=commento-name id=comment-headline><b>Share Your Thoughts</b></div></div><div class=commento-logout></div></div><div id=commento-login class=commento-login><input type=txt name=fields[name] placeholder=Name style="padding-left:10px;width:100%;line-height:2;border:1px solid rgba(50,50,93,.1);margin-bottom:5px;border-radius:2px" required>
<input type=email name=fields[email] placeholder="Email(will not be shared publicly)" style="padding-left:10px;width:100%;line-height:2;border:1px solid rgba(50,50,93,.1);border-radius:2px" required></div><div id=commento-textarea-super-container-root class=commento-button-margin><div id=commento-textarea-container-root class=commento-textarea-container><textarea name=fields[comment] id=commento-textarea-root placeholder="Add a comment" onchange=renderCommentInMD(this.value) onkeyup=this.onchange(); onpaste=this.onchange(); oninput=this.onchange(); required></textarea></div><button id=commento-submit-button-root type=submit class="commento-button commento-submit-button">Add
Comment</button><div class="commento-round-check commento-anonymous-checkbox-container"><input id=commento-anonymous-checkbox-root name=options[subscribe] type=checkbox value=email><label for=commento-anonymous-checkbox-root>Notify me of new comments</label></div><a id=commento-markdown-button-root class=commento-markdown-button><b>M </b> &nbsp; Markdown</a></div><p id=commneto-renderer-msg></p></form><div id=commento-comments-area class=commento-comments><div id=commento-comment-card-1457414765 style="border-left:2px solid #da6696" class=commento-card><div class=commento-header><div id=commento-comment-options-1457414765 class=commento-options><button id=commento-comment-reply-1457414765 href=#comment-form onclick="changeValue('fields[reply_to]','1457414765','Uma Maheswara Rao Pinninti')" title="Reply to Uma Maheswara Rao Pinninti" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/639829e54323f2b96046e05489da6696?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1457414765 class=commento-name>Uma Maheswara Rao Pinninti</div><div id=commento-comment-subtitle-1457414765 class=commento-subtitle><div id=commento-comment-timeago-1457414765 title="Tuesday, Mar 8, 2016" class=commento-timeago>Tuesday, Mar 8, 2016</div></div></div><div id=commento-comment-contents-1457414765><div id=commento-comment-body-1457414765 class=commento-body><div id=commento-comment-text-1457414765><p>Hi,
This template throwing the below error. <code>Reverse for 'password_reset_confirm' with arguments '()' and keyword arguments '{u'uidb64': 'Mw', u'token': u'4a1-0432bcab41a9fde28f68'}' not found. 0 pattern(s) tried: []</code> Please respond as soon as possible..
Thank you.</p></div></div></div><div><div id=commento-comment-card-1468496400 style="border-left:2px solid #308024" class=commento-card><div class=commento-header><div id=commento-comment-options-1468496400 class=commento-options><button id=commento-comment-reply-1468496400 title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1457414765','Arnab Kumar Shil')"></button></div><img src="https://www.gravatar.com/avatar/32eeb1c619ba12f413b8f94d9d308024?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1468496400 class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-1468496400 class=commento-subtitle><div id=commento-comment-timeago-1468496400 title="Thursday, Jul 14, 2016" class=commento-timeago>Thursday, Jul 14, 2016</div></div></div><div id=commento-comment-contents-1468496400><div id=commento-comment-body-1468496400 class=commento-body><div id=commento-comment-text-1468496400><p>Check this answer, which should solve your problem :) <a href=http://stackoverflow.com/qu..>http://stackoverflow.com/qu..</a>.</p></div></div></div></div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1476925538 style="border-left:2px solid #64f522" class=commento-card><div class=commento-header><div id=commento-comment-options-1476925538 class=commento-options><button id=commento-comment-reply-1476925538 href=#comment-form onclick="changeValue('fields[reply_to]','1476925538','Ashutosh')" title="Reply to Ashutosh" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/6f64aa66a48cc3feeba23e705d64f522?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1476925538 class=commento-name>Ashutosh</div><div id=commento-comment-subtitle-1476925538 class=commento-subtitle><div id=commento-comment-timeago-1476925538 title="Thursday, Oct 20, 2016" class=commento-timeago>Thursday, Oct 20, 2016</div></div></div><div id=commento-comment-contents-1476925538><div id=commento-comment-body-1476925538 class=commento-body><div id=commento-comment-text-1476925538><p>I can not see the screenshots..</p></div></div></div><div><div id=commento-comment-card-1476925593 style="border-left:2px solid #64f522" class=commento-card><div class=commento-header><div id=commento-comment-options-1476925593 class=commento-options><button id=commento-comment-reply-1476925593 title="Reply to Ashutosh" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1476925538','Ashutosh')"></button></div><img src="https://www.gravatar.com/avatar/6f64aa66a48cc3feeba23e705d64f522?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1476925593 class=commento-name>Ashutosh</div><div id=commento-comment-subtitle-1476925593 class=commento-subtitle><div id=commento-comment-timeago-1476925593 title="Thursday, Oct 20, 2016" class=commento-timeago>Thursday, Oct 20, 2016</div></div></div><div id=commento-comment-contents-1476925593><div id=commento-comment-body-1476925593 class=commento-body><div id=commento-comment-text-1476925593><p>also i can not see the template code of other templates</p></div></div></div></div><div id=commento-comment-card-1477006754 style="border-left:2px solid #308024" class=commento-card><div class=commento-header><div id=commento-comment-options-1477006754 class=commento-options><button id=commento-comment-reply-1477006754 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1476925538','Ruddra')"></button></div><img src="https://www.gravatar.com/avatar/32eeb1c619ba12f413b8f94d9d308024?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1477006754 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1477006754 class=commento-subtitle><div id=commento-comment-timeago-1477006754 title="Friday, Oct 21, 2016" class=commento-timeago>Friday, Oct 21, 2016</div></div></div><div id=commento-comment-contents-1477006754><div id=commento-comment-body-1477006754 class=commento-body><div id=commento-comment-text-1477006754><p>Thanks for noticing. I have updated the post :)</p></div></div></div></div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1481425696 style="border-left:2px solid #ba6b77" class=commento-card><div class=commento-header><div id=commento-comment-options-1481425696 class=commento-options><button id=commento-comment-reply-1481425696 href=#comment-form onclick="changeValue('fields[reply_to]','1481425696','Alex')" title="Reply to Alex" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/bc1fe4a4e8a5ad58136a2ba800ba6b77?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1481425696 class=commento-name>Alex</div><div id=commento-comment-subtitle-1481425696 class=commento-subtitle><div id=commento-comment-timeago-1481425696 title="Sunday, Dec 11, 2016" class=commento-timeago>Sunday, Dec 11, 2016</div></div></div><div id=commento-comment-contents-1481425696><div id=commento-comment-body-1481425696 class=commento-body><div id=commento-comment-text-1481425696><p>Thank You! is very useful.</p></div></div></div><div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-3132342514 style="border-left:2px solid #48c415" class=commento-card><div class=commento-header><div id=commento-comment-options-3132342514 class=commento-options><button id=commento-comment-reply-3132342514 href=#comment-form onclick="changeValue('fields[reply_to]','3132342514','Aswa')" title="Reply to Aswa" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/44a678c57d295f7603d08cea6c48c415?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-3132342514 class=commento-name>Aswa</div><div id=commento-comment-subtitle-3132342514 class=commento-subtitle><div id=commento-comment-timeago-3132342514 title="Wednesday, Feb 1, 2017" class=commento-timeago>Wednesday, Feb 1, 2017</div></div></div><div id=commento-comment-contents-3132342514><div id=commento-comment-body-3132342514 class=commento-body><div id=commento-comment-text-3132342514><p>Great article, very useful! However, I cannot find <code>django/contrib/admin/templates/registration/password_reset_subject.txt</code></p></div></div></div><div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1490178685 style="border-left:2px solid #1a5138" class=commento-card><div class=commento-header><div id=commento-comment-options-1490178685 class=commento-options><button id=commento-comment-reply-1490178685 href=#comment-form onclick="changeValue('fields[reply_to]','1490178685','sravani')" title="Reply to sravani" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/8b20bfaa1903a3c3babaeba6f31a5138?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1490178685 class=commento-name>sravani</div><div id=commento-comment-subtitle-1490178685 class=commento-subtitle><div id=commento-comment-timeago-1490178685 title="Wednesday, Mar 22, 2017" class=commento-timeago>Wednesday, Mar 22, 2017</div></div></div><div id=commento-comment-contents-1490178685><div id=commento-comment-body-1490178685 class=commento-body><div id=commento-comment-text-1490178685><p>what is the username and password</p></div></div></div><div><div id=commento-comment-card-1490752828 style="border-left:2px solid #308024" class=commento-card><div class=commento-header><div id=commento-comment-options-1490752828 class=commento-options><button id=commento-comment-reply-1490752828 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1490178685','Ruddra')"></button></div><img src="https://www.gravatar.com/avatar/32eeb1c619ba12f413b8f94d9d308024?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1490752828 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1490752828 class=commento-subtitle><div id=commento-comment-timeago-1490752828 title="Wednesday, Mar 29, 2017" class=commento-timeago>Wednesday, Mar 29, 2017</div></div></div><div id=commento-comment-contents-1490752828><div id=commento-comment-body-1490752828 class=commento-body><div id=commento-comment-text-1490752828><p>You can create user in your system and use the user&rsquo;s username and password</p></div></div></div></div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1514043089 style="border-left:2px solid #49c990" class=commento-card><div class=commento-header><div id=commento-comment-options-1514043089 class=commento-options><button id=commento-comment-reply-1514043089 href=#comment-form onclick="changeValue('fields[reply_to]','1514043089','Alejandro Hurtado')" title="Reply to Alejandro Hurtado" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/e54db53fbf8fc4b04b0340ac1e49c990?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1514043089 class=commento-name>Alejandro Hurtado</div><div id=commento-comment-subtitle-1514043089 class=commento-subtitle><div id=commento-comment-timeago-1514043089 title="Saturday, Dec 23, 2017" class=commento-timeago>Saturday, Dec 23, 2017</div></div></div><div id=commento-comment-contents-1514043089><div id=commento-comment-body-1514043089 class=commento-body><div id=commento-comment-text-1514043089><p>and if I want to use my own template? it does not look stylish with django admin, thanks</p></div></div></div><div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1522121518 style="border-left:2px solid #1f2c13" class=commento-card><div class=commento-header><div id=commento-comment-options-1522121518 class=commento-options><button id=commento-comment-reply-1522121518 href=#comment-form onclick="changeValue('fields[reply_to]','1522121518','Prabhash Tiwari')" title="Reply to Prabhash Tiwari" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/bd6ce394193aa91509745250df1f2c13?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1522121518 class=commento-name>Prabhash Tiwari</div><div id=commento-comment-subtitle-1522121518 class=commento-subtitle><div id=commento-comment-timeago-1522121518 title="Tuesday, Mar 27, 2018" class=commento-timeago>Tuesday, Mar 27, 2018</div></div></div><div id=commento-comment-contents-1522121518><div id=commento-comment-body-1522121518 class=commento-body><div id=commento-comment-text-1522121518><p>TemplateDoesNotExist at <code>/account/reset_password</code> why shows this error..</p></div></div></div><div><div id=commento-comment-card-1522150046 style="border-left:2px solid #308024" class=commento-card><div class=commento-header><div id=commento-comment-options-1522150046 class=commento-options><button id=commento-comment-reply-1522150046 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1522121518','Ruddra')"></button></div><img src="https://www.gravatar.com/avatar/32eeb1c619ba12f413b8f94d9d308024?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1522150046 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1522150046 class=commento-subtitle><div id=commento-comment-timeago-1522150046 title="Tuesday, Mar 27, 2018" class=commento-timeago>Tuesday, Mar 27, 2018</div></div></div><div id=commento-comment-contents-1522150046><div id=commento-comment-body-1522150046 class=commento-body><div id=commento-comment-text-1522150046><p>Hi, can you please create an issue on the github repository with the error stacktrace? In that way, I can easily figure out if something is wrong. Also don&rsquo;t forget to mention which django version you are using. Thanks</p></div></div></div></div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1526560914 style="border-left:2px solid #570b3c" class=commento-card><div class=commento-header><div id=commento-comment-options-1526560914 class=commento-options><button id=commento-comment-reply-1526560914 href=#comment-form onclick="changeValue('fields[reply_to]','1526560914','Chinmoy Acharjee')" title="Reply to Chinmoy Acharjee" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/765b241e0be3c65883387f26c4570b3c?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1526560914 class=commento-name>Chinmoy Acharjee</div><div id=commento-comment-subtitle-1526560914 class=commento-subtitle><div id=commento-comment-timeago-1526560914 title="Thursday, May 17, 2018" class=commento-timeago>Thursday, May 17, 2018</div></div></div><div id=commento-comment-contents-1526560914><div id=commento-comment-body-1526560914 class=commento-body><div id=commento-comment-text-1526560914><p>If i want to resend the email with that particular URL then how can i do it?</p></div></div></div><div><div id=commento-comment-card-1526591679 style="border-left:2px solid #308024" class=commento-card><div class=commento-header><div id=commento-comment-options-1526591679 class=commento-options><button id=commento-comment-reply-1526591679 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1526560914','Ruddra')"></button></div><img src="https://www.gravatar.com/avatar/32eeb1c619ba12f413b8f94d9d308024?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1526591679 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1526591679 class=commento-subtitle><div id=commento-comment-timeago-1526591679 title="Friday, May 18, 2018" class=commento-timeago>Friday, May 18, 2018</div></div></div><div id=commento-comment-contents-1526591679><div id=commento-comment-body-1526591679 class=commento-body><div id=commento-comment-text-1526591679><p>You can just use this code: <code># somehow you got email or username and put it in data associated_users= User.objects.filter(Q(email=data)|Q(username=data)) if associated_users.exists(): for user in associated_users: c = { 'email': user.email, 'domain': request.META['HTTP_HOST'], 'site_name': 'your site', 'uid': urlsafe_base64_encode(force_bytes(user.pk)), 'user': user, 'token': default_token_generator.make_token(user), 'protocol': 'http', } subject_template_name='registration/password_reset_subject.txt' # copied from django/contrib/admin/templates/registration/password_reset_subject.txt to templates directory email_template_name='registration/password_reset_email.html' # copied from django/contrib/admin/templates/registration/password_reset_email.html to templates directory subject = loader.render_to_string(subject_template_name, c) # Email subject *must not* contain newlines subject = ''.join(subject.splitlines()) email = loader.render_to_string(email_template_name, c) send_mail(subject, email, DEFAULT_FROM_EMAIL , [user.email], fail_silently=False)</code></p></div></div></div></div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1538633903 style="border-left:2px solid #b2ebe4" class=commento-card><div class=commento-header><div id=commento-comment-options-1538633903 class=commento-options><button id=commento-comment-reply-1538633903 href=#comment-form onclick="changeValue('fields[reply_to]','1538633903','firoj khan')" title="Reply to firoj khan" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/9fc05004f489667982e79c9855b2ebe4?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1538633903 class=commento-name>firoj khan</div><div id=commento-comment-subtitle-1538633903 class=commento-subtitle><div id=commento-comment-timeago-1538633903 title="Thursday, Oct 4, 2018" class=commento-timeago>Thursday, Oct 4, 2018</div></div></div><div id=commento-comment-contents-1538633903><div id=commento-comment-body-1538633903 class=commento-body><div id=commento-comment-text-1538633903><p>it giving error like The reset password link is no longer valid. in mail this link is going <code>http://127.0.0.1:8000/user/reset_password_confirm/(%3FPb'YTNlYWQyYWUtMTAyOC00ZjY1LTgwYTMtMWQ3NThiYjJjOTQ3'%5B0-9A-Za-z%5D+)-(%3FP505-9a4d4776744e45518e0e.+)/</code></p></div></div></div><div><div id=commento-comment-card-1546599372 style="border-left:2px solid #3794be" class=commento-card><div class=commento-header><div id=commento-comment-options-1546599372 class=commento-options><button id=commento-comment-reply-1546599372 title="Reply to disqus_ZwWOr4FAus" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick="changeValue('fields[reply_to]','1538633903','disqus_ZwWOr4FAus')"></button></div><img src="https://www.gravatar.com/avatar/23cfc552639d3666cf5c1646f13794be?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1546599372 class=commento-name>disqus_ZwWOr4FAus</div><div id=commento-comment-subtitle-1546599372 class=commento-subtitle><div id=commento-comment-timeago-1546599372 title="Friday, Jan 4, 2019" class=commento-timeago>Friday, Jan 4, 2019</div></div></div><div id=commento-comment-contents-1546599372><div id=commento-comment-body-1546599372 class=commento-body><div id=commento-comment-text-1546599372><p>disqus_0GqaZnP8Yj important</p></div></div></div></div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1557984365 style="border-left:2px solid #8eded2" class=commento-card><div class=commento-header><div id=commento-comment-options-1557984365 class=commento-options><button id=commento-comment-reply-1557984365 href=#comment-form onclick="changeValue('fields[reply_to]','1557984365','GMRIT-PUSHPITHA')" title="Reply to GMRIT-PUSHPITHA" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/eb0201253a8e794337facc59558eded2?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1557984365 class=commento-name>GMRIT-PUSHPITHA</div><div id=commento-comment-subtitle-1557984365 class=commento-subtitle><div id=commento-comment-timeago-1557984365 title="Thursday, May 16, 2019" class=commento-timeago>Thursday, May 16, 2019</div></div></div><div id=commento-comment-contents-1557984365><div id=commento-comment-body-1557984365 class=commento-body><div id=commento-comment-text-1557984365><p>While i am doing this coding I got server 500 error. It is not showing successful message. for example message.success (&ldquo;email sent please check&rdquo;)</p></div></div></div><div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div><div id=commento-comment-card-1570576248 style="border-left:2px solid #b0680b" class=commento-card><div class=commento-header><div id=commento-comment-options-1570576248 class=commento-options><button id=commento-comment-reply-1570576248 href=#comment-form onclick="changeValue('fields[reply_to]','1570576248','ares19896')" title="Reply to ares19896" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img src="https://www.gravatar.com/avatar/6e0810b2a9c34aff79f1672519b0680b?s=70&r=pg&d=identicon" class=commento-avatar-img><div id=commento-comment-name-1570576248 class=commento-name>ares19896</div><div id=commento-comment-subtitle-1570576248 class=commento-subtitle><div id=commento-comment-timeago-1570576248 title="Tuesday, Oct 8, 2019" class=commento-timeago>Tuesday, Oct 8, 2019</div></div></div><div id=commento-comment-contents-1570576248><div id=commento-comment-body-1570576248 class=commento-body><div id=commento-comment-text-1570576248><p>In registration/password_reset_email.html: <code>{{ domain }}{% url 'reset_password_confirm' uidb64=uid token=token %}</code> I want to show in email, this link is &lsquo;Reset Password&rsquo;. Please help me</p></div></div></div><div></div><script>function changeValue(elementName,newValue,name){document.getElementsByName(elementName)[0].value=newValue;document.getElementById('comment-headline').innerHTML="<b>Reply To: "+name+"</b>";window.location.hash="#comment-form";};</script></div></div></div></div><script>if(window.location.hash=="#comment-submitted"){var $comTarget=document.getElementById('comment-submitted');$comTarget.style.display='block';}else if(window.location.hash=="#comment-error"){var $comTarget=document.getElementById('comment-error');$comTarget.style.display='block';}
function renderCommentInMD(inputVal){var converter=new showdown.Converter();document.getElementById('commneto-renderer-msg').innerHTML=`<h2 class="commneto-renderer-msg-header" style="color:rgb(128, 9, 9); font-weight:800;font-size:20px">&nbspPreview:</h2>`+converter.makeHtml(inputVal);document.getElementById('commento-textarea-root').innerHTML=inputVal}</script></div></div><script src=https://ruddra.com/js/bundle.min.js async></script></div></div><label for=sidebar-checkbox class=sidebar-toggle></label><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-58095062-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>