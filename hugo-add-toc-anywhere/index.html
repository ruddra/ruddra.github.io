<!doctype html><html lang=en><title>Hugo: Add Table of Contents Anywhere in Markdown File</title><meta name=description content="By using shortcodes, here is how to put table of contents anywhere in the markdown file for Hugo.
"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta charset=utf-8><meta name=author content="Arnab Shil"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content=#000000><meta property=fb:app_id content=668971647169067><link rel=manifest href=/manifest.json crossorigin=use-credentials><meta name=yandex-verification content=3ccce49727df78e2><link rel=copyright href=https://ruddra.com/hugo-add-toc-anywhere/#copyright><link rel=article:author href=https://ruddra.com/about/ ><meta name=robots content=index,follow><meta name=referrer content=unsafe-url><meta property=og:url content=https://ruddra.com/hugo-add-toc-anywhere/ ><meta name=keywords content=Hugo,Markdown,Blog><meta name=twitter:label1 value="Reading time"><meta name=twitter:data1 value="2 Minutes"><style type=text/css>*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-family:Charter,bitstream charter,sitka text,Cambria,serif;font-weight:400;font-size:16px;line-height:1.8}body,html{overflow-x:hidden}h1,h2,h3,h4,h5,h6{font-family:Avenir,Montserrat,Corbel,urw gothic,source-sans-pro,sans-serif;margin-bottom:.5rem;line-height:1.25;letter-spacing:-.025rem;color:#303030;font-weight:400}h1{font-size:2rem;margin-bottom:.5em}h2{margin-top:1rem;font-size:1.75rem}a{text-decoration:none;padding:2px}.content-data a[href^="//"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,.content-data a[href^="http://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,.content-data a[href^="https://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==);margin:0 3px 0 5px}body.dark-theme .content-data a[href^="//"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,body.dark-theme .content-data a[href^="http://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,body.dark-theme .content-data a[href^="https://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAGFJREFUKFOlkMsRgEAIQ/M6sTS3Mu1MO4kuMzq4n5PcgDchAU3KtvOKbgA8gO1V0lb7AEnLAVQqPASTUgH2EGsVW+i58AFtL5IOSaHUhckeKwycyWtkmIb5B86e/ga533cB/51T+zztGjQAAAAASUVORK5CYII=);margin:0 3px 0 5px}p{margin-top:0;margin-bottom:1.25rem;font-size:20px;line-height:1.5}li{font-size:20px;line-height:1.5}body,html{margin:0;padding:0;scroll-behavior:smooth;overflow:auto;scrollbar-width:thin;scrollbar-color:#a4a4a4 transparent}body{color:#515151;background-color:#fff}a{color:#0a4ea4}strong{color:#303030}blockquote{padding:.5rem 1rem;margin:.8rem 0;color:#5e5e5e;border-left:4px solid #d2d2d2;line-height:1.5;border-radius:.1rem;background-color:#f6f6f6}.icon-side-bar{color:#000;padding-left:1%;padding-right:1%}body.dark-theme{background-color:#37383e;color:#eee}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-button{background-color:#666}::-webkit-scrollbar-thumb{background-color:#a4a4a4;border-radius:3px}body.dark-theme .highlight .chroma::-webkit-scrollbar-track,body.dark-theme::-webkit-scrollbar-track{background-color:transparent}body.dark-theme .highlight .chroma::-webkit-scrollbar-track-piece,body.dark-theme::-webkit-scrollbar-track-piece{background-color:transparent}body.dark-theme .highlight .chroma::-webkit-scrollbar-corner,body.dark-theme::-webkit-scrollbar{background-color:transparent}body.dark-theme .highlight .chroma::-webkit-resizer,body.dark-theme::-webkit-scrollbar{background-color:transparent}body.dark-theme a{color:#05ec8c}body.dark-theme .topbar a{color:#cfcdcd}.tag-links-a{color:#000}.container{padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.masthead{border-bottom:1px solid #eee;padding-top:1rem;padding-bottom:1rem;margin-bottom:3rem;background:#202020}.masthead .container{max-width:64rem}.masthead-title{margin-top:0;margin-bottom:0;color:#505050;font-size:20px;letter-spacing:-.025rem;line-height:1.25}.homepage-title a,.masthead-title a{color:#505050;padding:0}.masthead-title small{font-size:75%;font-weight:400;color:silver;letter-spacing:0}h3{font-weight:400;margin-top:1.5rem;font-size:1.5rem}h4,h5,h6{margin-top:1rem;font-size:1.25rem}body .container{max-width:60rem}.img-container{max-height:350px;margin-bottom:20px;overflow:hidden}.content{min-height:74vh}.photo-credit{text-align:center;margin-bottom:3px;margin-top:-10px;font-family:Avenir,Montserrat,Corbel,urw gothic,source-sans-pro,sans-serif}.page-title,.post-title,.post-title a{color:#303030}.home-posts{margin-bottom:-20px;margin-top:20px;position:relative;padding:10px}.post .home-posts .img-container{max-height:135px;margin-bottom:20px;display:flex;overflow:hidden}.home-posts .tags{position:absolute;top:1.2rem;right:1rem;font-family:Avenir,Montserrat,Corbel,urw gothic,source-sans-pro,sans-serif}.post-date{display:block;margin-top:-.5rem;margin-bottom:.5rem;color:#736d6d;font-family:Seravek,gill sans nova,Ubuntu,Calibri,dejavu sans,source-sans-pro,sans-serif;font-size:18px}#snackbar{display:none}#nav-check{display:none}.hamburger{display:none;margin-right:0;float:right;margin-top:-26px;cursor:pointer}.topbar{position:relative;margin-right:0;list-style:none;float:right;top:-27px;font-family:Seravek,gill sans nova,Ubuntu,Calibri,dejavu sans,source-sans-pro,sans-serif}.topbar li{float:left;margin-left:1rem;color:#cfcdcd;font-size:19px;letter-spacing:-.4px}.masthead .homepage-title .home-title,.masthead .masthead-title .home-title{color:#cfcdcd}.masthead .homepage-title .home-title-small,.masthead .masthead-title .home-title-small{color:#8c8585;font-size:20px;letter-spacing:-.25px}.homepage-title{margin:0;font-size:20px;line-height:1.25;letter-spacing:-.025rem;font-weight:400}.content .headline-description{margin-top:1rem;margin-bottom:1rem;color:#4f4f4f;font-size:20px;text-align:left;line-height:1.25}.title-headline-description{font-family:Avenir,Montserrat,Corbel,urw gothic,source-sans-pro,sans-serif}.caution{border-left:4px solid #f88888}#copyright{text-align:center;padding-top:1rem;padding-bottom:1rem}.pagination{overflow:hidden;margin-left:-1rem;margin-right:-1rem;color:#ccc;text-align:center}.pagination-item{display:block;padding:1rem;border:1px solid #eee;min-height:416px;font-size:16px;padding:.5rem 1rem 1rem}.post blockquote p{text-align:left}.pagination{overflow:hidden;margin-left:-1rem;margin-right:-1rem;text-align:center;color:#222}.pagination-item:first-child{margin-bottom:-1px}.side-share{position:relative;margin-left:0;padding-inline-start:0;list-style:none;float:left;margin-bottom:0}.side-share li{float:left;margin-right:.5rem}.side-share .tags{float:right;padding-top:1.5px}.newsletter-section{text-align:center;border-style:solid;border-width:1px;border-color:#eee;border-radius:3px;max-width:44em;margin:auto}.miscellaneous{margin-bottom:6rem;margin-top:2.3rem;font-family:Avenir,Montserrat,Corbel,urw gothic,source-sans-pro,sans-serif}.highlight-copy-btn{position:absolute;top:8px;right:8px;border:0;border-radius:4px;padding:1px;font-size:.7rem;line-height:1.8;color:#fff;opacity:.5;min-width:55px;text-align:center;visibility:hidden}#_toc{display:none}input+.collapse+nav{display:none}code,pre{font-family:Menlo,Monaco,courier new,monospace}code{padding:.25em .5em;font-size:85%;background-color:#f0f0f0;border-radius:3px}pre{display:block;margin-top:0;margin-bottom:1rem;padding:1rem;font-size:.8rem;line-height:1.4;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;background-color:#f0f0f0}pre code{padding:0;font-size:16px;color:inherit;background-color:transparent}.pagination a,.pagination span{padding:5px;text-decoration:none;font-size:18px}.commento-root textarea{display:inline-block;white-space:pre-wrap;padding:8px;outline:0;overflow:auto;min-height:130px;width:100%}img{display:block;max-width:100%;margin:0 0 1rem;border-radius:5px;margin-left:auto;margin-right:auto}.img-container{overflow:hidden;display:flex;width:100%;justify-content:center}.img-container amp-img,.img-container img{border-radius:0;width:100%;align-self:center;height:auto}.post .home-posts .img-container{overflow:hidden;display:flex;width:100%}.page-img-container{overflow:hidden;margin-bottom:20px;display:flex;max-width:100%;justify-content:center}.page-img-container amp-img,.page-img-container img{width:100%;align-self:center;height:auto}.profile-picture-cont{float:left;padding-right:10px;padding-bottom:0;margin-bottom:0;padding-top:10px}.profile-picture{max-width:200px;border-radius:50%}.pagination-image{padding-top:5px;border-radius:0;overflow:hidden;height:250px;display:flex}iframe{padding-top:1rem;padding-bottom:2rem}.pagination-image amp-img,.pagination-image img{border-radius:0;width:100%;align-self:center}amp-img img{object-fit:contain}.commento-root .commento-avatar-img{width:38px;height:38px;border-radius:50%;display:flex;justify-content:center;align-items:center;float:left;margin-right:10px}.home-posts .headline-description{font-size:18px}#svg-scholar{margin-bottom:-2px}.archive-year{margin-top:40px}.archive-year:not(:last-of-type){border-bottom:2px solid var(--border)}.archive-month:not(:last-of-type){border-bottom:1px solid var(--border)}.archive-entry-title{margin:5px 0;font-weight:400}.archive-count,.archive-meta{color:var(--secondary);font-size:16px}.pagination.clearfix::after{content:"";display:block;clear:both;visibility:hidden;height:0}@media only screen and (min-width:30em){.container{max-width:28rem}.pagination-item{float:left;width:50%}.pagination-item:first-child{margin-bottom:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination-item:last-child{margin-left:-1px;border-top-right-radius:4px;border-bottom-right-radius:4px}blockquote{padding-left:1.25rem}.pagination{margin:3rem 0}.commento-comments{margin-top:2rem}}@media only screen and (min-width:38em){.container{max-width:32rem}}@media only screen and (min-width:56em){.container{max-width:42rem}.archive-posts{width:100%;font-size:16px}.archive-month{display:flex;align-items:flex-start}.archive-month-header{margin:25px 0;width:200px}.archive-entry{position:relative;padding:5px;margin:10px 0}}@media screen and (max-width:56em){body{line-height:1.5}.archive-count,.archive-meta{font-size:14px}.archive-entry-title{font-size:20px}.archive-posts{padding-left:.5rem}.commento-markdown{display:none}.loved-count{font-size:8px}.comment-count{font-size:8px}}@media screen and (max-width:120em){.masthead .container{max-width:50rem}body .container{max-width:44.5rem}.pagination-image{height:150px}}@media screen and (max-width:48em){#alert{min-width:65%}.content{min-height:60vh}.profile-picture-cont{float:none;padding-right:0;padding-top:0}.homepage-title,.masthead-title{text-align:center}.side-share .tags{position:absolute;margin-top:2.5rem;margin-bottom:4rem}.side-share .tags .tag-links-a{float:none;margin-right:2px;margin-left:0}.miscellaneous{margin-bottom:8rem}.img-container{margin-bottom:0}.photo-credit{margin-top:0}.hamburger{display:block}.topbar{background-color:#222;margin-top:42px;margin-left:-100%;margin-right:-40px;padding-left:0;padding-right:0;max-width:120px;border-top:1px solid #f1f1f1;display:none;z-index:100}.topbar li{display:block;width:100%;transition:all .3s ease-in;overflow-y:hidden;top:50px;left:0;padding-top:5px;padding-bottom:5px;padding-right:0;padding-left:0}#nav-check:checked+.hamburger+.topbar{display:block}#nav-check:checked+label svg path:first-child{display:none}#nav-check:checked+label svg path:last-child{display:block}#nav-check+label svg path:first-child{display:block}#nav-check+label svg path:last-child{display:none}.masthead-title small{display:inline-block}}@media screen and (max-width:30em){.commento-comments{margin-top:6rem}.commento-markdown-button{display:none}.post .home-title{font-size:32px}.pagination .older{margin-top:20px}.comment-newsletters .subscribe-to-nl{display:none}.commento-logged-container{margin-top:10px}.pagination-item{min-height:315px;font-size:16px;padding:.5rem 1rem}.pagination-item:last-child{margin-bottom:20px}}@media screen and (max-width:15em){.masthead-title small{display:none}.commento-logged-container{margin-bottom:10px}#comment-submitted-box{padding-top:40px;margin-bottom:-10px}}</style><link rel=preload href=/js/bundle1.min.4004149d02e7fe08c42b52cea24f4476f58309887a5b9bdc4e9d730938f55df6.js as=script><link rel=preload href=/css/bundle.min.css as=style><link rel=stylesheet href=/css/bundle.min.css media=print onload='this.media="all",this.onload=null'><noscript><link rel=stylesheet href=/css/bundle.min.css></noscript><link rel=amphtml type=text/html href=https://ruddra.com/amp/hugo-add-toc-anywhere/ ><link rel=apple-touch-icon sizes=144x144 href=/apple-touch-icon.png><link rel="shortcut icon" href=/favicon.ico><link rel=icon href=https://ruddra.com/logo.png><link rel=alternate type=application/rss+xml title=RSS href=/sitemap.xml><link rel=search href=/opensearch.xml title="Search at Ruddra" type=application/opensearchdescription+xml><meta name=generator content="Hugo 0.120.3"><meta name=twitter:card content=summary_large_image><meta property=og:locale content=en_US><meta property=og:site_name content="Coding Blog by Arnab Shil"><meta property=article:publisher content=https://ruddra.com><meta property=article:section content=Bulletin><meta property=article:published_time content=2020-06-09T00:00:00.00Z><meta property=article:modified_time content=2025-03-31T00:00:00.00Z><meta property=og:updated_time content=2025-03-31T00:00:00.00Z><meta property=og:image content=https://ruddra.com/content/images/2020/06/toc.jpg><meta property=og:image:secure_url content=https://ruddra.com/content/images/2020/06/toc.jpg><meta name=revised content="Ruddra.com, 02/07/31036"><meta property=og:image:width content=720><meta property=og:image:height content=350><meta name=twitter:site content=@ruddra><meta name=twitter:creator content=@ruddra><meta name=twitter:title content="Hugo: Add Table of Contents Anywhere in Markdown File"><meta name=twitter:description content="By using shortcodes, here is how to put table of contents anywhere in the markdown file for Hugo.
"><meta property=og:type content=Article><meta property=og:title content="Hugo: Add Table of Contents Anywhere in Markdown File"><meta property=og:description content="By using shortcodes, here is how to put table of contents anywhere in the markdown file for Hugo.
"><meta name=twitter:image content=https://ruddra.com/content/images/2020/06/toc.jpg><meta name=twitter:image:src content=https://ruddra.com/content/images/2020/06/toc.jpg><meta property=article:tag content=hugo><meta property=article:tag content=markdown><meta property=article:tag content=ruddra><script type=application/ld+json>{"@context":"http://schema.org","@type":"NewsArticle","identifier":"hugo-add-toc-anywhere","headline":"Hugo: Add Table of Contents Anywhere in Markdown File","keywords":["Hugo","Markdown","Blog"],"url":"https:\/\/ruddra.com\/hugo-add-toc-anywhere\/","dateCreated":"2020-06-09T00:00:00.00Z","datePublished":"2020-06-09T00:00:00.00Z","dateModified":"2025-03-31T00:00:00.00Z","articleBody":"\u003cp class=\"headline-description\"\u003eBy using shortcodes, here is how to put table of contents anywhere in the markdown file for Hugo.\n\u003c/p\u003e","mainEntityOfPage":"https:\/\/ruddra.com\/hugo-add-toc-anywhere\/","image":{"@type":"ImageObject","url":"https:\/\/ruddra.com\/content\/images\/2020\/06\/toc.jpg","height":300,"width":750},"creator":["Arnab Shil"],"author":{"@type":"Person","name":"Arnab Shil","url":"https://ruddra.com"},"wordCount":"386","commentCount":"11","copyrightYear":"2020","discussionUrl":"https:\/\/ruddra.com\/hugo-add-toc-anywhere\/#comment-headline","isFamilyFriendly":"true","maintainer":{"@type":"Person","name":"Arnab Shil","url":"https://ruddra.com"},"publisher":{"@type":"Organization","name":"Coding Blog by Arnab Shil","url":"https://ruddra.com","logo":{"@type":"ImageObject","url":"https:\/\/ruddra.com\/logo.png"}},"thumbnailUrl":"https:\/\/ruddra.com\/content\/images\/2020\/06\/toc.jpg"}</script><header class=masthead><div class=container><h3 class=masthead-title><a href=https://ruddra.com/ title=Home class=home-title>Ruddra</a><small class=home-title-small>.com</small></h3><nav><input type=checkbox id=nav-check> <label class=hamburger for=nav-check><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 fill=#f1f1f1><path d="M24 19H0v-1h24v1zm0-6H0v-1h24v1zm0-6H0V6h24v1z"/><path d="M12 11.293 22.293 1l.707.707L12.707 12 23 22.293l-.707.707L12 12.707 1.707 23 1 22.293 11.293 12 1 1.707 1.707 1 12 11.293z"/></svg></label><ul class=topbar><li><a href=/about/ >About</a><li><a href=/contact/ >Contact</a><li><a href=/posts/ >Archive</a><li><a href=/newsletter/ >Newsletter</a><li><a aria-label=search href=/search/ ><svg xmlns=http://www.w3.org/2000/svg width=20 height=18 viewBox="0 0 24 24"><path d="M23.8 21.6l-6.2-6.2c1.2-1.6 1.9-3.6 1.9-5.7.0-5.4-4.4-9.7-9.7-9.7-5.4.0-9.7 4.4-9.7 9.7.0 5.4 4.4 9.7 9.7 9.7 2 0 3.9-.6 5.5-1.7l6.2 6.2 2.4-2.4zM2.8 9.7c0-3.8 3.1-6.9 6.9-6.9s6.9 3.1 6.9 6.9-3.1 6.9-6.9 6.9c-3.8.0-6.9-3.1-6.9-6.9z"/></svg></a><li class=btn-toggle-thm><svg viewBox="0 0 24 24" width=22 height=22 class=lightToggleIcon_pyhR><path fill=currentcolor d="M12 9c1.65.0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76.0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55.0 1-.45 1-1s-.45-1-1-1H2c-.55.0-1 .45-1 1s.45 1 1 1zm18 0h2c.55.0 1-.45 1-1s-.45-1-1-1h-2c-.55.0-1 .45-1 1S19.45 13 20 13zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1S11 19.45 11 20zM5.99 4.58c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0s.39-1.03.0-1.41L5.99 4.58zM18.36 16.95c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0.39-.39.39-1.03.0-1.41l-1.06-1.06zM19.42 5.99c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0l1.06-1.06z"/></svg><svg viewBox="0 0 24 24" width=22 height=22 class=darkToggleIcon_wfgR><path fill=currentcolor d="M9.37 5.51C9.19 6.15 9.1 6.82 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68.0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86.0-7-3.14-7-7C5 9.07 6.81 6.55 9.37 5.51zM12 3c-4.97.0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98.0-5.4-2.42-5.4-5.4.0-1.81.89-3.42 2.26-4.4C12.92 3.04 12.46 3 12 3z"/></svg></ul></nav></div></header><div class=container><section class=content><article id=blog-post class=post><h1 class=post-title><a href=https://ruddra.com/hugo-add-toc-anywhere/ >Hugo: Add Table of Contents Anywhere in Markdown File</a></h1><span class=post-date>Jun 09, 2020 &#183; 2 Min Read &#183; 29 Likes &#183; 11 Comments</span><div class=img-container><img class=lozad width=6016 height=4016 src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%206016%204016%22/%3E" data-src=data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%206016%204016%22%3E%3C%2Fsvg%3E data-srcset="/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_220x0_resize_q75_lanczos.jpg 220w,/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_440x0_resize_q75_lanczos.jpg 440w,/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_500x0_resize_q75_lanczos.jpg 500w,/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_600x0_resize_q75_lanczos.jpg 600w,/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_640x0_resize_q75_lanczos.jpg 640w,,/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_720x0_resize_q75_lanczos.jpg 720w,,/content/images/2020/06/toc_huc9861af7750959d9988507eed14375d1_2532375_1024x0_resize_q75_lanczos.jpg 640w" alt="Hugo: Add Table of Contents Anywhere in Markdown File" data-sizes=440w><noscript><img src=/content/images/2020/06/toc.jpg width=6016 height=4016 alt="Hugo: Add Table of Contents Anywhere in Markdown File"></noscript></div><div class=photo-credit>Photo by <a href=https://unsplash.com/@barrowmanphotography>Andrew Barrowman</a> on <a href=https://unsplash.com>Unsplash</a></div><div class=content-data><p>Hugo provides a built-in module named <a href=https://gohugo.io/content-management/toc/ ><code>{{ .TableOfContents }}</code></a> to generate table of contents. It is pretty handy because it generates the table of content without help of any JavaScript or CSS code. But there is a problem with it, you need to put it inside templates. You can&rsquo;t render it inside the contents of the markdown file. Means you will be able to render it either at top, or at the bottom of your contents.<p>Usually I prefer to have a small introduction and rest of the contents, have a table of content in between them(like this article).Now we are going to see how to do that using <a href=https://gohugo.io/templates/shortcode-templates/ >custom shortcodes</a>.<div class=toc><input id=_toc type=checkbox name=_toc><label class=collapse for=_toc>Table of contents&nbsp;<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 24 24" fill=none stroke=currentcolor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="feather feather-chevron-down"><polyline class=chevron-down points="6 10 14 18 22 10"/><polyline class=chevron-up points="22 18 14 10 6 18"/></svg></label><nav id=TableOfContents><ul><li><a href=#what-is-shortcodes>What is shortcodes</a><li><a href=#create-custom-shortcodes>Create custom shortcodes</a><li><a href=#usage>Usage</a><li><a href=#bonus-add-hyperlink-to-headers>Bonus: add hyperlink to headers</a><li><a href=#in-conclusion>In conclusion</a></ul></nav></div><p><h2 id=what-is-shortcodes>What is shortcodes<a href=#what-is-shortcodes class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p><a href=https://gohugo.io/content-management/shortcodes/ >Shortcodes</a> is like a tag which can be used inside a markdown file. It will allow you to use built-in or custom templates. You can also pass arguments through shortcode and render them in template. There are some built-in shortcodes like <a href=https://gohugo.io/content-management/shortcodes/#figure><code>figure</code></a>, <a href=https://gohugo.io/content-management/shortcodes/#gist><code>gist</code></a> etc. But we are going to build our own shortcodes.<h2 id=create-custom-shortcodes>Create custom shortcodes<a href=#create-custom-shortcodes class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>First we need to create the shortcodes file named <code>table_of_contents.html</code> then put it inside <code>layouts/shortcodes</code> directory. The folder structure will look like this:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Project
</span></span><span class=line><span class=cl>├── contents
</span></span><span class=line><span class=cl>├── layouts
</span></span><span class=line><span class=cl>│   ├── partials
</span></span><span class=line><span class=cl>│   └── shortcodes
</span></span><span class=line><span class=cl>│       └── table_of_contents.html
</span></span><span class=line><span class=cl>├── static
</span></span><span class=line><span class=cl>├── themes
</span></span><span class=line><span class=cl>└── config.toml
</span></span></code></pre></div><p>then inside the html file, we need to write the following code:<div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;toc&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ .Page.TableOfContents }}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Cool. Our shortcode is ready to use.<h2 id=usage>Usage<a href=#usage class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>We need to use the shortcodes by putting <code>{{&lt; table_of_contents >}}</code> inside markdown files. For example:<div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=gu>## Your content
</span></span></span><span class=line><span class=cl><span class=gu></span>
</span></span><span class=line><span class=cl>Some lines
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>table_of_contents</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>More lines
</span></span></code></pre></div><h2 id=bonus-add-hyperlink-to-headers>Bonus: add hyperlink to headers<a href=#bonus-add-hyperlink-to-headers class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>Replace <code>{{ .Page.TableOfContents }}</code> with the following code:<div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{ .Page.TableOfContents | replaceRE &#34;<span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; &#34;<span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; | replaceRE &#34;<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; &#34;<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; |  safeHTML }}
</span></span></code></pre></div><p>It will generate table of contents with hyperlinks to each header.<h2 id=in-conclusion>In conclusion<a href=#in-conclusion class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>Shortcodes are pretty awesome and you can use it in many ways like given here. It allows you to have a cleaner implementation and reusability. But one downside is that, you need to put this shortcode in every markdown file to render the table of contents inside them.<p>I hope this article helps. If you have any questions, please share in the comment section below.<p><strong>Last updated</strong>: Mar 31, 2025</div></article></section><hr><section class=miscellaneous><ul class=side-share><li class=like-comment><span id=love-share><svg xmlns=http://www.w3.org/2000/svg id=love-share-sign class=love-share-sign width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M12 4.2C8.9-1.2.0.4.0 7.1c0 4.7 5.6 9.4 12 15.8 6.4-6.4 12-11.1 12-15.8.0-6.8-8.9-8.3-12-2.9z"/></svg><span id=loved-count class=loved-count>x<span id=like-count>29</span></span></span><li class=like-comment><svg xmlns=http://www.w3.org/2000/svg id=show-comment-btn class=comment-sign width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M24 10.2C24 5.1 18.6 1 12 1S0 5.1.0 10.2s5.4 9.2 12.1 9.2c-.4 2-2.8 3.3-4.5 3.7C17.7 22.2 24 16.6 24 10.3z"/></svg><span id=loved-count class=comment-count>x<span id=comment-counter>11<span></span></span></span></li><input type=checkbox id=_show_social_share><li class=share-button><label id=show-hide-share class=collapse-share for=_show_social_share><svg class=share-sign xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M5 7c2.761.0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5-5zm11.122 12.065c-.073.301-.122.611-.122.935.0 2.209 1.791 4 4 4s4-1.791 4-4-1.791-4-4-4c-1.165.0-2.204.506-2.935 1.301l-5.488-2.927c-.23.636-.549 1.229-.943 1.764l5.488 2.927zM24 4c0-2.209-1.791-4-4-4s-4 1.791-4 4c0 .324.049.634.122.935l-5.488 2.927c.395.535.713 1.127.943 1.764l5.488-2.927C17.796 7.494 18.835 8 20 8c2.209.0 4-1.791 4-4z"/></svg><svg fill=#d0d0d0 xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M5 9c1.654.0 3 1.346 3 3s-1.346 3-3 3-3-1.346-3-3 1.346-3 3-3zm0-2c-2.762.0-5 2.239-5 5s2.238 5 5 5 5-2.239 5-5-2.238-5-5-5zm15 9c-1.165.0-2.204.506-2.935 1.301l-5.488-2.927c-.23.636-.549 1.229-.944 1.764l5.488 2.927c-.072.301-.121.611-.121.935.0 2.209 1.791 4 4 4s4-1.791 4-4-1.791-4-4-4zm0 6c-1.103.0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm0-22c-2.209.0-4 1.791-4 4 0 .324.049.634.121.935l-5.488 2.927c.395.536.713 1.128.944 1.764l5.488-2.927C17.796 7.494 18.835 8 20 8c2.209.0 4-1.791 4-4s-1.791-4-4-4zm0 6c-1.103.0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"/></svg></label><li class=social-share><a target=_blank aria-label=FB rel=noreferrer href="https://www.facebook.com/dialog/share?app_id=668971647169067&display=page&href=https%3a%2f%2fruddra.com%2fhugo-add-toc-anywhere%2f&redirect_uri=https%3a%2f%2fruddra.com%2fhugo-add-toc-anywhere%2f"><svg class=fb-share-sign fill=#d0d0d0 xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M9 8H6v4h3v12h5V12h3.642L18 8h-4V6.333C14 5.378 14.192 5 15.115 5H18V0h-3.808C10.596.0 9 1.583 9 4.615V8z"/></svg></a><li class=social-share><a aria-label=Twitter target=_blank rel=noreferrer href="https://twitter.com/intent/tweet?text=Hugo%3a%20Add%20Table%20of%20Contents%20Anywhere%20in%20Markdown%20File&url=https%3a%2f%2fruddra.com%2fhugo-add-toc-anywhere%2f"><svg class=tw-share-sign fill=#d0d0d0 xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179.0-5.515 2.966-4.797 6.045C7.728 8.088 4.1 6.128 1.671 3.149c-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142.0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a><li class=social-share><a aria-label=LN target=_blank rel=noreferrer href="https://www.linkedin.com/shareArticle/?mini=true&url=https%3a%2f%2fruddra.com%2fhugo-add-toc-anywhere%2f&title=Hugo%3a%20Add%20Table%20of%20Contents%20Anywhere%20in%20Markdown%20File&summary=By%20using%20shortcodes%2c%20here%20is%20how%20to%20put%20table%20of%20contents%20anywhere%20in%20the%20markdown%20file%20for%20Hugo.&source="><svg xmlns=http://www.w3.org/2000/svg class=ln-share-sign width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M5 3.5C5 4.9 3.9 6 2.5 6S0 4.9.0 3.5C0 2.1 1.1 1 2.5 1S5 2.1 5 3.5zM5 8H0v16h5V8zm8 0H8v16h5v-8.4c0-4.7 6-5.1 6 0V24h5V13.9c0-7.9-8.9-7.6-11-3.7V8z"/></svg></a></ul><div class=tags><a class=tag-links-a href=/tags/hugo/ >Hugo</a> <a class=tag-links-a href=/tags/markdown/ >Markdown</a></div></section><section class="pagination clearfix"><div class="pagination-item older"><span class=pagination-arrow>&#8592; Previous</span><div class=pagination-link><a href=https://ruddra.com/docker-reduce-build-time-for-data-science-packages/ >Reduce Build Time for Images with Data Science Packages</a></div><div class=pagination-image><img class=lozad width=350 height=263 data-src=/content/images/2020/05/speed_hu87dd484ebe629590ab4149331a3099cb_2313929_350x0_resize_q75_lanczos.jpg alt="Reduce Build Time for Images with Data Science Packages"><noscript><img src=/content/images/2020/05/speed_hu87dd484ebe629590ab4149331a3099cb_2313929_350x0_resize_q75_lanczos.jpg alt="Reduce Build Time for Images with Data Science Packages"></noscript></div><p class=pagination-text>How to build a docker image faster containing packages like Numpy, SciPy, Pandas etc.</div><div class="pagination-item newer"><span class=pagination-arrow>Next &#8594;</span><div class=pagination-link><a href=https://ruddra.com/hugo-implement-pwa/ >Progressive Web App in Hugo using GitHub Actions</a></div><div class=pagination-image><img width=350 height=233 class=lozad data-src=/content/images/2020/06/pwa_hu5fa4487cdb1abc5282c8de9313991c61_359829_350x0_resize_q75_lanczos.jpg alt="Progressive Web App in Hugo using GitHub Actions"><noscript><img src=/content/images/2020/06/pwa_hu5fa4487cdb1abc5282c8de9313991c61_359829_350x0_resize_q75_lanczos.jpg alt="Progressive Web App in Hugo using GitHub Actions"></noscript></div><p class=pagination-text>Implement a Progressive Web App in your Hugo based static site using GitHub Actions.</div></section><section class=tiny id=comment-submitted><div id=commento class="commento-root commento-root-font"><div id=comment-submitted-box style=display:none>Thank you for your comment. It will be published shortly.</div><div id=comment-error style=display:none>An error occurred when submitting the form, please try again.</div><div id=commento-main-area class=commento-main-area><div class=commento-name id=comment-headline><b>Share Your Thoughts</b></div><form id=comment-form method=POST name=comment-form><input type=hidden name=options[redirect] value=https://ruddra.com/hugo-add-toc-anywhere/#comment-submitted> <input type=hidden name=options[slug] value=hugo-add-toc-anywhere> <input type=hidden name=options[parent] value=hugo-add-toc-anywhere> <input type=hidden name=options[origin] value=https://ruddra.com/hugo-add-toc-anywhere/ > <input type=hidden id=comment-parent name=fields[reply_to]> <input type=hidden name=options[redirectError] value=https://ruddra.com/hugo-add-toc-anywhere/#comment-error> <textarea name=fields[comment] id=commento-textarea-root placeholder="Add a comment" required aria-label="Add a comment"></textarea> <button id=commento-submit-button-root type=submit class="commento-button commento-submit-button submit-github">Comment With Github</button><div class="commento-round-check commento-anonymous-checkbox-container"><input id=commento-anonymous-checkbox-root name=options[subscribe] type=checkbox value=email><label for=commento-anonymous-checkbox-root>Notify me of new comments</label></div><span onclick=toggleMarkDownTable() id=commento-markdown-button-root class=commento-markdown-button><b>M↓</b> <span class=commento-markdown>Markdown</span></span><table id=commento-markdown-help-root class=commento-markdown-help style=display:none><tr><td><i>italics</i><td>surround text with<code>*asterisks*</code><tr><td><b>bold</b><td>surround text with<code>**two asterisks**</code><tr><td><a href=https://example.com>hyperlink</a><td><code>[hyperlink](https://example.com)</code> or just a bare URL<tr><td><code>code</code><td>surround text with <code>`backticks`</code><tr><td><code>code block</code><td>surround text with <code>```console.log()```</code><tr><td><strike>strikethrough</strike><td>surround text with <code>~~two tilde characters~~</code><tr><td><blockquote>quote</blockquote><td>prefix with <code>></code><tr><td>Emoji 😱<td><b>:smile:</b>😄 <b>:angry:</b>😠 <b>:disappointed:</b>😞(<a href=https://www.webfx.com/tools/emoji-cheat-sheet/ >cheat sheet</a>)</table></form></div><div id=commento-comment class=commento-comments hidden aria-hidden=true><div id=commento-comment-card-6571a120-4a8a-11eb-866d-2d4d9a006ebd class=commento-card><div class=commento-header><div id=commento-comment-options-6571a120-4a8a-11eb-866d-2d4d9a006ebd class=commento-options><button id=commento-comment-reply-6571a120-4a8a-11eb-866d-2d4d9a006ebd href=#comment-form onclick='changeValue("fields[reply_to]","6571a120-4a8a-11eb-866d-2d4d9a006ebd","David Winterbottom")' title="Reply to David Winterbottom" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars1.githubusercontent.com/u/80975?v=4" class="lozad commento-avatar-img" alt="David Winterbottom"><div id=commento-comment-name-6571a120-4a8a-11eb-866d-2d4d9a006ebd class=commento-name>David Winterbottom</div><div id=commento-comment-subtitle-6571a120-4a8a-11eb-866d-2d4d9a006ebd class=commento-subtitle><div id=commento-comment-timeago-6571a120-4a8a-11eb-866d-2d4d9a006ebd title="Wednesday, Dec 30, 2020" class=commento-timeago>Wednesday, Dec 30, 2020</div></div></div><div id=commento-comment-body-6571a120-4a8a-11eb-866d-2d4d9a006ebd class=commento-body><p>Thanks - very useful.</div><div><div id=commento-comment-card-0676d490-4bef-11eb-838e-1dfab53ff3f6 class=commento-card><div class=commento-header><div id=commento-comment-options-0676d490-4bef-11eb-838e-1dfab53ff3f6 class=commento-options><button id=commento-comment-reply-0676d490-4bef-11eb-838e-1dfab53ff3f6 title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","6571a120-4a8a-11eb-866d-2d4d9a006ebd","Arnab Kumar Shil")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-0676d490-4bef-11eb-838e-1dfab53ff3f6 class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-0676d490-4bef-11eb-838e-1dfab53ff3f6 class=commento-subtitle><div id=commento-comment-timeago-0676d490-4bef-11eb-838e-1dfab53ff3f6 title="Friday, Jan 01, 2021" class=commento-timeago>Friday, Jan 01, 2021</div></div></div><div id=commento-comment-body-0676d490-4bef-11eb-838e-1dfab53ff3f6 class=commento-body><p>You&rsquo;re welcome 😄.</div></div></div></div><div id=commento-comment-card-10947e60-643a-11eb-bc49-b930e4ad078d class=commento-card><div class=commento-header><div id=commento-comment-options-10947e60-643a-11eb-bc49-b930e4ad078d class=commento-options><button id=commento-comment-reply-10947e60-643a-11eb-bc49-b930e4ad078d href=#comment-form onclick='changeValue("fields[reply_to]","10947e60-643a-11eb-bc49-b930e4ad078d","Félix Paradis")' title="Reply to Félix Paradis" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars.githubusercontent.com/u/17578204?v=4" class="lozad commento-avatar-img" alt="Félix Paradis"><div id=commento-comment-name-10947e60-643a-11eb-bc49-b930e4ad078d class=commento-name>Félix Paradis</div><div id=commento-comment-subtitle-10947e60-643a-11eb-bc49-b930e4ad078d class=commento-subtitle><div id=commento-comment-timeago-10947e60-643a-11eb-bc49-b930e4ad078d title="Monday, Feb 1, 2021" class=commento-timeago>Monday, Feb 1, 2021</div></div></div><div id=commento-comment-body-10947e60-643a-11eb-bc49-b930e4ad078d class=commento-body><p><p>Helpful, but <code>replaceRE</code> won&rsquo;t work in a shortcode. See: <a href=https://github.com/gohugoio/hugo/issues/7095>https://github.com/gohugoio/hugo/issues/7095</a><p>Unless I missed something?<p></div><div><div id=commento-comment-card-98b3a580-6455-11eb-9172-796d9f4f99d2 class=commento-card><div class=commento-header><div id=commento-comment-options-98b3a580-6455-11eb-9172-796d9f4f99d2 class=commento-options><button id=commento-comment-reply-98b3a580-6455-11eb-9172-796d9f4f99d2 title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","10947e60-643a-11eb-bc49-b930e4ad078d","Arnab Kumar Shil")'></button></div><img data-src="https://avatars.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-98b3a580-6455-11eb-9172-796d9f4f99d2 class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-98b3a580-6455-11eb-9172-796d9f4f99d2 class=commento-subtitle><div id=commento-comment-timeago-98b3a580-6455-11eb-9172-796d9f4f99d2 title="Monday, Feb 01, 2021" class=commento-timeago>Monday, Feb 01, 2021</div></div></div><div id=commento-comment-body-98b3a580-6455-11eb-9172-796d9f4f99d2 class=commento-body><p>It seems to be working fine for me. I am using Hugo 0.75.1.</div></div></div></div><div id=commento-comment-card-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 class=commento-card><div class=commento-header><div id=commento-comment-options-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 class=commento-options><button id=commento-comment-reply-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 href=#comment-form onclick='changeValue("fields[reply_to]","cd2001c0-d493-11eb-9eb9-6759a3cc8a21","Robbi Nespu")' title="Reply to Robbi Nespu" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars.githubusercontent.com/u/3077875?v=4" class="lozad commento-avatar-img" alt="Robbi Nespu"><div id=commento-comment-name-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 class=commento-name>Robbi Nespu</div><div id=commento-comment-subtitle-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 class=commento-subtitle><div id=commento-comment-timeago-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 title="Thursday, Jun 24, 2021" class=commento-timeago>Thursday, Jun 24, 2021</div></div></div><div id=commento-comment-body-cd2001c0-d493-11eb-9eb9-6759a3cc8a21 class=commento-body><p>Your current implemented ToC look awesome. Can you share it?</div><div><div id=commento-comment-card-3f4a5350-d4ca-11eb-acda-452130de945c class=commento-card><div class=commento-header><div id=commento-comment-options-3f4a5350-d4ca-11eb-acda-452130de945c class=commento-options><button id=commento-comment-reply-3f4a5350-d4ca-11eb-acda-452130de945c title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","cd2001c0-d493-11eb-9eb9-6759a3cc8a21","Arnab Kumar Shil")'></button></div><img data-src="https://avatars.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-3f4a5350-d4ca-11eb-acda-452130de945c class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-3f4a5350-d4ca-11eb-acda-452130de945c class=commento-subtitle><div id=commento-comment-timeago-3f4a5350-d4ca-11eb-acda-452130de945c title="Thursday, Jun 24, 2021" class=commento-timeago>Thursday, Jun 24, 2021</div></div></div><div id=commento-comment-body-3f4a5350-d4ca-11eb-acda-452130de945c class=commento-body><p><p>Thank you!! 😄 For css, you can check the codes by inspect element at XPath: <code>//*[@id="blog-post"]/div[3]/div[1]</code>. Here the actual code of the shortcode:<div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;toc&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>         <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;_toc&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;checkbox&#34;</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;_toc&#34;</span><span class=p>&gt;&lt;</span><span class=nt>label</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;collapse&#34;</span> <span class=na>for</span><span class=o>=</span><span class=s>&#34;_toc&#34;</span><span class=p>&gt;</span>Table of contents<span class=ni>&amp;nbsp;</span><span class=p>&lt;</span><span class=nt>svg</span> <span class=na>xmlns</span><span class=o>=</span><span class=s>&#34;http://www.w3.org/2000/svg&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;16&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;16&#34;</span> <span class=na>viewBox</span><span class=o>=</span><span class=s>&#34;0 0 24 24&#34;</span> <span class=na>fill</span><span class=o>=</span><span class=s>&#34;none&#34;</span> <span class=na>strok</span>
</span></span><span class=line><span class=cl>         <span class=err>{{</span> <span class=err>.</span><span class=na>Page</span><span class=err>.</span><span class=na>TableOfContents</span> <span class=err>|</span> <span class=na>replaceRE</span> <span class=err>&#34;&lt;</span><span class=na>ul</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; &#34;<span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; | replaceRE &#34;<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>[[:space:]]*<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; &#34;<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>&#34; |  safeHTML }}
</span></span><span class=line><span class=cl>         <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><p></div></div></div></div><div id=commento-comment-card-471d8810-1f82-11ec-83d2-fba7cdaba942 class=commento-card><div class=commento-header><div id=commento-comment-options-471d8810-1f82-11ec-83d2-fba7cdaba942 class=commento-options><button id=commento-comment-reply-471d8810-1f82-11ec-83d2-fba7cdaba942 href=#comment-form onclick='changeValue("fields[reply_to]","471d8810-1f82-11ec-83d2-fba7cdaba942","Frank Homburg")' title="Reply to Frank Homburg" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars.githubusercontent.com/u/26466767?v=4" class="lozad commento-avatar-img" alt="Frank Homburg"><div id=commento-comment-name-471d8810-1f82-11ec-83d2-fba7cdaba942 class=commento-name>Frank Homburg</div><div id=commento-comment-subtitle-471d8810-1f82-11ec-83d2-fba7cdaba942 class=commento-subtitle><div id=commento-comment-timeago-471d8810-1f82-11ec-83d2-fba7cdaba942 title="Monday, Sep 27, 2021" class=commento-timeago>Monday, Sep 27, 2021</div></div></div><div id=commento-comment-body-471d8810-1f82-11ec-83d2-fba7cdaba942 class=commento-body><p><p>Thanks for share, this is very useful. One little However, the whole thing has a small drawback. Some of the ToC entries are together in one line.<p>Configuring each tool (H2 heading) vdirsyncer khal khard Todoman &lt;&ndash; ((H3 heading) each word is a separate heading and should be in it&rsquo;s own line) First run of vdirsyncer (H2 heading)<p></div><div></div></div><div id=commento-comment-card-718dbe80-2256-11ed-8a96-afa0d95ec4e3 class=commento-card><div class=commento-header><div id=commento-comment-options-718dbe80-2256-11ed-8a96-afa0d95ec4e3 class=commento-options><button id=commento-comment-reply-718dbe80-2256-11ed-8a96-afa0d95ec4e3 href=#comment-form onclick='changeValue("fields[reply_to]","718dbe80-2256-11ed-8a96-afa0d95ec4e3","detektifnet")' title="Reply to detektifnet" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars.githubusercontent.com/u/109237354?v=4" class="lozad commento-avatar-img" alt=detektifnet><div id=commento-comment-name-718dbe80-2256-11ed-8a96-afa0d95ec4e3 class=commento-name>detektifnet</div><div id=commento-comment-subtitle-718dbe80-2256-11ed-8a96-afa0d95ec4e3 class=commento-subtitle><div id=commento-comment-timeago-718dbe80-2256-11ed-8a96-afa0d95ec4e3 title="Monday, Aug 22, 2022" class=commento-timeago>Monday, Aug 22, 2022</div></div></div><div id=commento-comment-body-718dbe80-2256-11ed-8a96-afa0d95ec4e3 class=commento-body><p>TEST</div><div></div></div><div id=commento-comment-card-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 class=commento-card><div class=commento-header><div id=commento-comment-options-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 class=commento-options><button id=commento-comment-reply-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 href=#comment-form onclick='changeValue("fields[reply_to]","d54a8b30-3ab4-11ed-91f6-d9b62a05f245","D. Travis Lee")' title="Reply to D. Travis Lee" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars.githubusercontent.com/u/49222803?v=4" class="lozad commento-avatar-img" alt="D. Travis Lee"><div id=commento-comment-name-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 class=commento-name>D. Travis Lee</div><div id=commento-comment-subtitle-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 class=commento-subtitle><div id=commento-comment-timeago-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 title="Thursday, Sep 22, 2022" class=commento-timeago>Thursday, Sep 22, 2022</div></div></div><div id=commento-comment-body-d54a8b30-3ab4-11ed-91f6-d9b62a05f245 class=commento-body><p><p>FYI if replaceRE doesn&rsquo;t work in your shortcode, you can apply the function to .Content instead. You&rsquo;ll just need some regex tweaking to target the table of contents in particular, instead of - in the example on this page - every ul or li element.<p>For example, I decided to get rid of the &ldquo;TableOfContents&rdquo; ID and add in an ARIA description instead. For me, this looks like:<pre tabindex=0><code>{{- $toc :=`(&lt;nav id=(?:\&#34;|&#39;)TableOfContents(?:&#39;|\&#34;))` -}}
{{- $tocNew := `&lt;nav aria-label=&#39;Page navigation&#39;` -}}
{{- .Content | replaceRE $toc $tocNew -}} ``` 

The reason is that, in the shortcode, .Page.TableOfContents is only populated once the shortcode finishes. When replaceRE triggers, it triggers on the unpopulated TableOfContents, and so replaces nothing.

However, .Content has *everything* in a content file rendered. This includes shortcodes and, by extension, tables of contents. So if you apply replaceRE to .Content, it&#39;ll also target your table of contents.

If your version of Hugo works using replaceRE in the shortcode, great! But keep this in mind if you ever upgrade. I&#39;m running version 91.2 and the replaceRE function doesn&#39;t like to work in shortcodes.
</code></pre><p></div><div><div id=commento-comment-card-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d class=commento-card><div class=commento-header><div id=commento-comment-options-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d class=commento-options><button id=commento-comment-reply-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","d54a8b30-3ab4-11ed-91f6-d9b62a05f245","Arnab Kumar Shil")'></button></div><img data-src="https://avatars.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d class=commento-subtitle><div id=commento-comment-timeago-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d title="Friday, Sep 23, 2022" class=commento-timeago>Friday, Sep 23, 2022</div></div></div><div id=commento-comment-body-f4e51d90-3b4d-11ed-a2c9-c9a33c67d34d class=commento-body><p>Thank you for your feedback. I am using version 0.94.1 and it seems to be working. But I will keep an eye on future releases for this issue.</div></div></div></div><div id=commento-comment-card-ecc2c250-acdd-11ed-a4a7-23d193087bb0 class=commento-card><div class=commento-header><div id=commento-comment-options-ecc2c250-acdd-11ed-a4a7-23d193087bb0 class=commento-options><button id=commento-comment-reply-ecc2c250-acdd-11ed-a4a7-23d193087bb0 href=#comment-form onclick='changeValue("fields[reply_to]","ecc2c250-acdd-11ed-a4a7-23d193087bb0","Geoff")' title="Reply to Geoff" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars.githubusercontent.com/u/125140195?v=4" class="lozad commento-avatar-img" alt=Geoff><div id=commento-comment-name-ecc2c250-acdd-11ed-a4a7-23d193087bb0 class=commento-name>Geoff</div><div id=commento-comment-subtitle-ecc2c250-acdd-11ed-a4a7-23d193087bb0 class=commento-subtitle><div id=commento-comment-timeago-ecc2c250-acdd-11ed-a4a7-23d193087bb0 title="Wednesday, Feb 15, 2023" class=commento-timeago>Wednesday, Feb 15, 2023</div></div></div><div id=commento-comment-body-ecc2c250-acdd-11ed-a4a7-23d193087bb0 class=commento-body><p>This is hando to add <a href=https://fabform.io/a/hugo-contact-form>hugo forms</a></div><div></div></div></div></div></section><footer id=copyright><p>&copy; 2025 Arnab Shil &#183; <a href=/privacy/ >Privacy</a><br><a href=/license>CC BY-SA 4.0</a> &#183; Made with <a href=https://gohugo.io>Hugo</a></footer></div><script src=/js/bundle1.min.4004149d02e7fe08c42b52cea24f4476f58309887a5b9bdc4e9d730938f55df6.js defer></script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{e.installing,e.waiting,e.active,e.addEventListener("updatefound",function(){var t=e.installing;t.onstatechange=()=>{t.state==="installed"&&navigator.serviceWorker.controller&&showReloadAlert()}})})</script>