<!doctype html><html lang=en><title>Implementation of Forgot/Reset Password Feature in Django</title><meta name=description content="A DYI reset/forgot password implementation based on Django's source code in Django."><meta http-equiv=x-ua-compatible content="IE=edge"><meta charset=utf-8><meta name=author content="Arnab Kumar Shil"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content=#000000><meta property=fb:app_id content=668971647169067><link rel=manifest href=/manifest.json crossorigin=use-credentials><meta name=yandex-verification content=3ccce49727df78e2><link rel=copyright href=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/#copyright><link rel=article:author href=https://ruddra.com/about/ ><meta name=robots content=index,follow><meta name=referrer content=unsafe-url><meta property=og:url content=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/ ><meta name=keywords content=Python,Django,Blog><meta name=twitter:label1 value="Reading time"><meta name=twitter:data1 value="5 Minutes"><style type=text/css>*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-family:-apple-system,BlinkMacSystemFont,segoe ui adjusted,segoe ui,liberation sans,sans-serif;font-weight:400;font-size:16px;line-height:1.8}body,html{overflow-x:hidden}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;line-height:1.25;letter-spacing:-.025rem;color:#303030;font-weight:400}h1{font-size:2rem;margin-bottom:.5em}h2{margin-top:1rem;font-size:1.75rem}a{text-decoration:none;padding:2px}.content-data a[href^="//"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,.content-data a[href^="http://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,.content-data a[href^="https://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==);margin:0 3px 0 5px}body.dark-theme .content-data a[href^="//"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,body.dark-theme .content-data a[href^="http://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after,body.dark-theme .content-data a[href^="https://"]:not(a[href*=localhost]):not(a[href*="ruddra.com"]):after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAGFJREFUKFOlkMsRgEAIQ/M6sTS3Mu1MO4kuMzq4n5PcgDchAU3KtvOKbgA8gO1V0lb7AEnLAVQqPASTUgH2EGsVW+i58AFtL5IOSaHUhckeKwycyWtkmIb5B86e/ga533cB/51T+zztGjQAAAAASUVORK5CYII=);margin:0 3px 0 5px}p{margin-top:0;margin-bottom:1.25rem;font-size:20px;line-height:1.5}li{font-size:20px;line-height:1.5}body,html{margin:0;padding:0;scroll-behavior:smooth;overflow:auto;scrollbar-width:thin;scrollbar-color:#a4a4a4 transparent}body{color:#515151;background-color:#fff;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a{color:#246db1}strong{color:#303030}blockquote{padding:.5rem 1rem;margin:.8rem 0;color:#5e5e5e;border-left:4px solid #d2d2d2;letter-spacing:.5px;line-height:1.5;border-radius:.1rem;background-color:#f6f6f6}.icon-side-bar{color:#000;padding-left:1%;padding-right:1%}body.dark-theme{background-color:#37383e;color:#eee}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-button{background-color:#666}::-webkit-scrollbar-thumb{background-color:#a4a4a4;border-radius:3px}body.dark-theme .highlight .chroma::-webkit-scrollbar-track,body.dark-theme::-webkit-scrollbar-track{background-color:transparent}body.dark-theme .highlight .chroma::-webkit-scrollbar-track-piece,body.dark-theme::-webkit-scrollbar-track-piece{background-color:transparent}body.dark-theme .highlight .chroma::-webkit-scrollbar-corner,body.dark-theme::-webkit-scrollbar{background-color:transparent}body.dark-theme .highlight .chroma::-webkit-resizer,body.dark-theme::-webkit-scrollbar{background-color:transparent}body.dark-theme a{color:#05ec8c}body.dark-theme .topbar a{color:#cfcdcd}.tag-links-a{color:#000}.container{padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto}.masthead{border-bottom:1px solid #eee;padding-top:1rem;padding-bottom:1rem;margin-bottom:3rem;background:#202020}.masthead .container{max-width:50rem}.masthead-title{margin-top:0;margin-bottom:0;color:#505050;font-size:20px;letter-spacing:-.025rem;line-height:1.25}.homepage-title a,.masthead-title a{color:#505050;padding:0}.masthead-title small{font-size:75%;font-weight:400;color:silver;letter-spacing:0}h3{font-weight:400;margin-top:1.5rem;font-size:1.5rem}h4,h5,h6{margin-top:1rem;font-size:1.25rem}body .container{max-width:44.5rem}.img-container{max-height:350px;margin-bottom:20px;overflow:hidden}.content{min-height:74vh}.photo-credit{text-align:center;margin-bottom:3px;margin-top:-10px}.page-title,.post-title,.post-title a{color:#303030}.home-posts{margin-bottom:-20px;margin-top:20px;position:relative;padding:10px}.post .home-posts .img-container{max-height:135px;margin-bottom:20px;display:flex;overflow:hidden}.home-posts .tags{position:absolute;top:1.2rem;right:1rem}.post-date{display:block;margin-top:-.5rem;margin-bottom:.5rem;color:#736d6d;font-size:18px}#snackbar{display:none}#nav-check{display:none}.hamburger{display:none;margin-right:0;float:right;margin-top:-26px;cursor:pointer}.topbar{position:relative;margin-right:0;list-style:none;float:right;top:-27px}.topbar li{float:left;margin-left:1rem;color:#cfcdcd;font-size:19px;letter-spacing:-.4px}.masthead .homepage-title .home-title,.masthead .masthead-title .home-title{color:#cfcdcd}.masthead .homepage-title .home-title-small,.masthead .masthead-title .home-title-small{color:#8c8585;font-size:20px;letter-spacing:-.25px}.homepage-title{margin:0;font-size:20px;line-height:1.25;letter-spacing:-.025rem;font-weight:400}.content .headline-description{margin-top:1rem;margin-bottom:1rem;color:#4f4f4f;font-size:20px;text-align:left;line-height:1.25}.caution{border-left:4px solid #f88888}#copyright{text-align:center;padding-top:1rem;padding-bottom:1rem}.pagination{overflow:hidden;margin-left:-1rem;margin-right:-1rem;color:#ccc;text-align:center}.pagination-item{display:block;padding:1rem;border:1px solid #eee;min-height:350px}.post blockquote p{text-align:left}.pagination-item:first-child{margin-bottom:-1px}.pagination{overflow:hidden;margin-left:-1rem;margin-right:-1rem;text-align:center;color:#222}.pagination-item{display:block;padding:1rem;border:1px solid #eee}.pagination-item:first-child{margin-bottom:-1px}.side-share{position:relative;margin-left:0;padding-inline-start:0;list-style:none;float:left;margin-bottom:0}.side-share li{float:left;margin-right:.5rem}.side-share .tags{float:right;padding-top:1.5px}.newsletter-section{text-align:center;border-style:solid;border-width:1px;border-color:#bebbbb;border-radius:3px}.pagination-item{font-size:16px;padding:.5rem 1rem 1rem}.miscellaneous{margin-bottom:6rem;margin-top:2.3rem}.highlight-copy-btn{position:absolute;top:8px;right:8px;border:0;border-radius:4px;padding:1px;font-size:.7rem;line-height:1.8;color:#fff;opacity:.5;min-width:55px;text-align:center;visibility:hidden}#_toc{display:none}input+.collapse+nav{display:none}code,pre{font-family:Menlo,Monaco,courier new,monospace}code{padding:.25em .5em;font-size:85%;background-color:#f0f0f0;border-radius:3px}pre{display:block;margin-top:0;margin-bottom:1rem;padding:1rem;font-size:.8rem;line-height:1.4;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;background-color:#f0f0f0}pre code{padding:0;font-size:16px;color:inherit;background-color:transparent}.pagination a,.pagination span{padding:5px;text-decoration:none;font-size:18px}.commento-root textarea{display:inline-block;white-space:pre-wrap;padding:8px;outline:0;overflow:auto;min-height:130px;width:100%}img{display:block;max-width:100%;margin:0 0 1rem;border-radius:5px;margin-left:auto;margin-right:auto}.img-container{overflow:hidden;display:flex;width:100%;justify-content:center}.img-container amp-img,.img-container img{border-radius:0;width:100%;align-self:center;height:auto}.post .home-posts .img-container{overflow:hidden;display:flex;width:100%}.page-img-container{overflow:hidden;margin-bottom:20px;display:flex;max-width:100%;justify-content:center}.page-img-container amp-img,.page-img-container img{width:100%;align-self:center;height:auto}.profile-picture-cont{float:left;padding-right:10px;padding-bottom:0;margin-bottom:0;padding-top:10px}.profile-picture{max-width:200px;border-radius:50%}.pagination-image{padding-top:5px;border-radius:0;overflow:hidden;height:150px;display:flex}iframe{padding-top:1rem;padding-bottom:2rem}.pagination-image amp-img,.pagination-image img{border-radius:0;width:100%;align-self:center}amp-img img{object-fit:contain}.commento-root .commento-avatar-img{width:38px;height:38px;border-radius:50%;display:flex;justify-content:center;align-items:center;float:left;margin-right:10px}.home-posts .headline-description{font-size:18px}#svg-scholar{margin-bottom:-2px}.archive-year{margin-top:40px}.archive-year:not(:last-of-type){border-bottom:2px solid var(--border)}.archive-month:not(:last-of-type){border-bottom:1px solid var(--border)}.archive-entry-title{margin:5px 0;font-weight:400}.archive-count,.archive-meta{color:var(--secondary);font-size:16px}@media only screen and (min-width:30em){.container{max-width:28rem}.pagination-item{float:left;width:50%}.pagination-item:first-child{margin-bottom:0;border-top-left-radius:4px;border-bottom-left-radius:4px}.pagination-item:last-child{margin-left:-1px;border-top-right-radius:4px;border-bottom-right-radius:4px}blockquote{padding-left:1.25rem}.pagination{margin:3rem 0}.commento-comments{margin-top:2rem}}@media only screen and (min-width:38em){.container{max-width:32rem}}@media only screen and (min-width:56em){.container{max-width:42rem}.pagination-item{min-height:350px}.archive-posts{width:100%;font-size:16px}.archive-month{display:flex;align-items:flex-start}.archive-month-header{margin:25px 0;width:200px}.archive-entry{position:relative;padding:5px;margin:10px 0}}@media screen and (max-width:56em){body{line-height:1.5}.archive-count,.archive-meta{font-size:14px}.archive-entry-title{font-size:20px}.archive-posts{padding-left:.5rem}.commento-markdown{display:none}.loved-count{font-size:8px}.comment-count{font-size:8px}}@media screen and (max-width:48em){#alert{min-width:65%}.profile-picture-cont{float:none;padding-right:0;padding-top:0}.homepage-title,.masthead-title{text-align:center}.side-share .tags{position:absolute;margin-top:2.5rem;margin-bottom:4rem}.side-share .tags .tag-links-a{float:none;margin-right:2px;margin-left:0}.miscellaneous{margin-bottom:8rem}.img-container{margin-bottom:0}.photo-credit{margin-top:0}.hamburger{display:block}.topbar{background-color:#222;margin-top:42px;margin-left:-100%;margin-right:-40px;padding-left:0;padding-right:0;max-width:120px;border-top:1px solid #f1f1f1;display:none;z-index:100}.topbar li{display:block;width:100%;transition:all .3s ease-in;overflow-y:hidden;top:50px;left:0;padding-top:5px;padding-bottom:5px;padding-right:0;padding-left:0}#nav-check:checked+.hamburger+.topbar{display:block}#nav-check:checked+label svg path:first-child{display:none}#nav-check:checked+label svg path:last-child{display:block}#nav-check+label svg path:first-child{display:block}#nav-check+label svg path:last-child{display:none}.masthead-title small{display:inline-block}}@media screen and (max-width:30em){.commento-comments{margin-top:6rem}.commento-markdown-button{display:none}.post .home-title{font-size:32px}.pagination .older{margin-top:20px}.comment-newsletters .subscribe-to-nl{display:none}.commento-logged-container{margin-top:10px}.photo-credit{margin-top:-8px}.pagination-item{min-height:296px;font-size:16px;padding:.5rem 1rem}.pagination-item:last-child{margin-bottom:20px}}@media screen and (max-width:15em){.masthead-title small{display:none}.photo-credit{margin-top:-5px}.commento-logged-container{margin-bottom:10px}#comment-submitted-box{padding-top:40px;margin-bottom:-10px}.pagination-item{min-height:305px}}</style><link rel=preload href=/js/bundle1.min.1535f9f11247405cede2c32d63ff323351c975e1dff53ef240b83249eb6b5829.js as=script><link rel=preload href=/css/bundle.min.css as=style><link rel=stylesheet href=/css/bundle.min.css media=print onload='this.media="all",this.onload=null'><noscript><link rel=stylesheet href=/css/bundle.min.css></noscript><link rel=amphtml type=text/html href=https://ruddra.com/amp/implementation-of-forgot-reset-password-feature-in-django/ ><link rel=apple-touch-icon sizes=144x144 href=/apple-touch-icon.png><link rel="shortcut icon" href=/favicon.ico><link rel=icon href=https://ruddra.com/logo.png><link rel=alternate type=application/rss+xml title=RSS href=/sitemap.xml><link rel=search href=/opensearch.xml title="Search at Ruddra" type=application/opensearchdescription+xml><meta name=generator content="Hugo 0.79.1"><meta name=twitter:card content=summary_large_image><meta property=og:locale content=en_US><meta property=og:site_name content="Coding Blog by Arnab Kumar Shil"><meta property=article:publisher content=https://ruddra.com><meta property=article:section content=Bulletin><meta property=article:published_time content=2014-10-21T00:00:00.00Z><meta property=article:modified_time content=2023-11-20T00:00:00.00Z><meta property=og:updated_time content=2023-11-20T00:00:00.00Z><meta property=og:image content=https://ruddra.com/content/images/2020/03/reset.jpg><meta property=og:image:secure_url content=https://ruddra.com/content/images/2020/03/reset.jpg><meta name=revised content="Ruddra.com, 01/07/20116"><meta property=og:image:width content=720><meta property=og:image:height content=350><meta name=twitter:site content=@ruddra><meta name=twitter:creator content=@ruddra><meta name=twitter:title content="Implementation of Forgot/Reset Password Feature in Django"><meta name=twitter:description content="A DYI reset/forgot password implementation based on Django's source code in Django."><meta property=og:type content=Article><meta property=og:title content="Implementation of Forgot/Reset Password Feature in Django"><meta property=og:description content="A DYI reset/forgot password implementation based on Django's source code in Django."><meta name=twitter:image content=https://ruddra.com/content/images/2020/03/reset.jpg><meta name=twitter:image:src content=https://ruddra.com/content/images/2020/03/reset.jpg><meta property=article:tag content=python><meta property=article:tag content=django><meta property=article:tag content=ruddra><script type=application/ld+json>{"@context":"http://schema.org","@type":"NewsArticle","identifier":"implementation-of-forgot-reset-password-feature-in-django","headline":"Implementation of Forgot\/Reset Password Feature in Django","keywords":["Python","Django","Blog"],"url":"https:\/\/ruddra.com\/implementation-of-forgot-reset-password-feature-in-django\/","dateCreated":"2014-10-21T00:00:00.00Z","datePublished":"2014-10-21T00:00:00.00Z","dateModified":"2023-11-20T00:00:00.00Z","articleBody":"\u003cp class=\"headline-description\"\u003eA DYI reset/forgot password implementation based on Django's source code in Django.\n\u003c/p\u003e","mainEntityOfPage":"https:\/\/ruddra.com\/implementation-of-forgot-reset-password-feature-in-django\/","image":{"@type":"ImageObject","url":"https:\/\/ruddra.com\/content\/images\/2020\/03\/reset.jpg","height":300,"width":750},"creator":["Arnab Kumar Shil"],"author":{"@type":"Person","name":"Arnab Kumar Shil","url":"https://ruddra.com"},"wordCount":"1002","commentCount":"23","copyrightYear":"2014","discussionUrl":"https:\/\/ruddra.com\/implementation-of-forgot-reset-password-feature-in-django\/#comment-headline","isFamilyFriendly":"true","maintainer":{"@type":"Person","name":"Arnab Kumar Shil","url":"https://ruddra.com"},"publisher":{"@type":"Organization","name":"Coding Blog by Arnab Kumar Shil","url":"https://ruddra.com","logo":{"@type":"ImageObject","url":"https:\/\/ruddra.com\/logo.png"}},"thumbnailUrl":"https:\/\/ruddra.com\/content\/images\/2020\/03\/reset.jpg"}</script><header class=masthead><div class=container><h3 class=masthead-title><a href=https://ruddra.com/ title=Home class=home-title>Ruddra</a><small class=home-title-small>.com</small></h3><nav><input type=checkbox id=nav-check> <label class=hamburger for=nav-check><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 fill=#f1f1f1><path d="M24 19H0v-1h24v1zm0-6H0v-1h24v1zm0-6H0V6h24v1z"/><path d="M12 11.293 22.293 1l.707.707L12.707 12 23 22.293l-.707.707L12 12.707l-10.293 10.293-.707-.707L11.293 12l-10.293-10.293.707-.707L12 11.293z"/></svg></label><ul class=topbar><li><a href=/about/ >About</a><li><a href=/contact/ >Contact</a><li><a href=/posts/ >Archive</a><li><a aria-label=search href=/search/ ><svg xmlns=http://www.w3.org/2000/svg width=20 height=18 viewBox="0 0 24 24"><path d="M23.8 21.6l-6.2-6.2c1.2-1.6 1.9-3.6 1.9-5.7.0-5.4-4.4-9.7-9.7-9.7-5.4.0-9.7 4.4-9.7 9.7.0 5.4 4.4 9.7 9.7 9.7 2 0 3.9-.6 5.5-1.7l6.2 6.2 2.4-2.4zm-21-11.9c0-3.8 3.1-6.9 6.9-6.9s6.9 3.1 6.9 6.9-3.1 6.9-6.9 6.9c-3.8.0-6.9-3.1-6.9-6.9z"/></svg></a><li class=btn-toggle-thm><svg viewBox="0 0 24 24" width=22 height=22 class=lightToggleIcon_pyhR><path fill=currentcolor d="M12 9c1.65.0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3S10.35 9 12 9m0-2c-2.76.0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55.0 1-.45 1-1s-.45-1-1-1H2c-.55.0-1 .45-1 1S1.45 13 2 13zm18 0h2c.55.0 1-.45 1-1s-.45-1-1-1h-2c-.55.0-1 .45-1 1S19.45 13 20 13zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1S11 1.45 11 2zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1S11 19.45 11 20zM5.99 4.58c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0s.39-1.03.0-1.41L5.99 4.58zM18.36 16.95c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0.39-.39.39-1.03.0-1.41L18.36 16.95zM19.42 5.99c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0L19.42 5.99zM7.05 18.36c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0L7.05 18.36z"/></svg><svg viewBox="0 0 24 24" width=22 height=22 class=darkToggleIcon_wfgR><path fill=currentcolor d="M9.37 5.51C9.19 6.15 9.1 6.82 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68.0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86.0-7-3.14-7-7C5 9.07 6.81 6.55 9.37 5.51zM12 3c-4.97.0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98.0-5.4-2.42-5.4-5.4.0-1.81.89-3.42 2.26-4.4C12.92 3.04 12.46 3 12 3z"/></svg></ul></nav></div></header><div class=container><section class=content><article id=blog-post class=post><h1 class=post-title><a href=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/ >Implementation of Forgot/Reset Password Feature in Django</a></h1><span class=post-date>Oct 21, 2014 &#183; 5 Min Read &#183; 5 Likes &#183; 23 Comments</span><div class=img-container><img class=lozad width=5184 height=3456 src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTg0IDM0NTYiLz4=" data-src=data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%205184%203456%22%3E%3C%2Fsvg%3E data-srcset="/content/images/2020/03/reset_hu3b21ac4a131914c7b15032863f11a60e_1064513_220x0_resize_q75_lanczos.jpg 220w,/content/images/2020/03/reset_hu3b21ac4a131914c7b15032863f11a60e_1064513_440x0_resize_q75_lanczos.jpg 440w,/content/images/2020/03/reset_hu3b21ac4a131914c7b15032863f11a60e_1064513_500x0_resize_q75_lanczos.jpg 500w,/content/images/2020/03/reset_hu3b21ac4a131914c7b15032863f11a60e_1064513_600x0_resize_q75_lanczos.jpg 600w,/content/images/2020/03/reset_hu3b21ac4a131914c7b15032863f11a60e_1064513_640x0_resize_q75_lanczos.jpg 640w" alt="Implementation of Forgot/Reset Password Feature in Django" data-sizes=440w><noscript><img src=/content/images/2020/03/reset.jpg width=5184 height=3456 alt="Implementation of Forgot/Reset Password Feature in Django"></noscript></div><div class=photo-credit>Photo by <a href="https://unsplash.com/@chilinik?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Nikita Kostrykin</a> on Unsplash</div><div class=content-data><p>Django has its own implementation for <strong>reset/forgot password</strong> for its admin site. We are going to use that code as reference to implement similar feature for a non admin-site authentication page. Although there are tons of good packages which will allow user to use their password resetting system. But if the system isn&rsquo;t too complex and doesn&rsquo;t need such authentication plugins, then reusing the django&rsquo;s very own implementation can be a good option.<p>This implementation is going to divided into two parts. First part is sending an email with reset url, and the Second part is clicking the reset url attached in email and entering new password for reset completion.<p>Before starting anything, lets look at the django&rsquo;s reset/forgot password&rsquo;s implementation in <a href=https://github.com/django/django/blob/master/django/contrib/auth/forms.py><code>django/contrib/auth/forms.py</code></a>) and <a href=https://github.com/django/django/blob/master/django/contrib/auth/views.py><code>django/contrib/auth/views.py</code></a>).<div class=toc><input id=_toc type=checkbox name=_toc><label class=collapse for=_toc>Table of contents&nbsp;<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 24 24" fill=none stroke=currentcolor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="feather feather-chevron-down"><polyline class=chevron-down points="6 10 14 18 22 10"/><polyline class=chevron-up points="22 18 14 10 6 18"/></svg></label><nav id=TableOfContents><ul><li><a href=#implementation-of-sending-an-email-for-forgot-password-with-reset-url>Implementation of sending an email for forgot password with reset url</a><ul><li><a href=#screenshots-password-reset-flow>Screenshots password reset flow</a></ul><li><a href=#implementation-of-clicking-the-reset-url-and-entering-new-password-for-reset-completion>Implementation of clicking the reset url and entering new password for reset completion</a><ul><li><a href=#screenshots-reset-successful>Screenshots reset successful</a></ul><li><a href=#alternative-reference-to-this-implementation>Alternative reference to this implementation</a><li><a href=#in-conclusion>In conclusion</a></ul></nav></div><p><h2 id=implementation-of-sending-an-email-for-forgot-password-with-reset-url>Implementation of sending an email for forgot password with reset url<a href=#implementation-of-sending-an-email-for-forgot-password-with-reset-url class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>We are going to make a <strong>reset password form</strong> where we are going to add an text field which will take either username or email address associated with the corresponding user.<div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>django</span> <span class=kn>import</span> <span class=n>forms</span>

<span class=k>class</span> <span class=nc>PasswordResetRequestForm</span><span class=p>(</span><span class=n>forms</span><span class=o>.</span><span class=n>Form</span><span class=p>):</span>
    <span class=n>email_or_username</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=p>(</span><span class=s2>&#34;Email Or Username&#34;</span><span class=p>),</span> <span class=n>max_length</span><span class=o>=</span><span class=mi>254</span><span class=p>)</span>
</code></pre></div><p>We are going to make a <strong>view</strong> which will check the input email/username and send an email to user&rsquo;s email address(implementation reference: <a href=https://github.com/django/django/blob/master/django/contrib/auth/forms.py#L235>github source</a>).<div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>django.contrib.auth.tokens</span> <span class=kn>import</span> <span class=n>default_token_generator</span>
<span class=kn>from</span> <span class=nn>django.utils.encoding</span> <span class=kn>import</span> <span class=n>force_bytes</span>
<span class=kn>from</span> <span class=nn>django.utils.http</span> <span class=kn>import</span> <span class=n>urlsafe_base64_encode</span><span class=p>,</span> <span class=n>urlsafe_base64_decode</span>
<span class=kn>from</span> <span class=nn>django.template</span> <span class=kn>import</span> <span class=n>loader</span>
<span class=kn>from</span> <span class=nn>django.core.mail</span> <span class=kn>import</span> <span class=n>send_mail</span>
<span class=kn>from</span> <span class=nn>settings</span> <span class=kn>import</span> <span class=n>DEFAULT_FROM_EMAIL</span>
<span class=kn>from</span> <span class=nn>django.views.generic</span> <span class=kn>import</span> <span class=n>FormView</span>
<span class=kn>from</span> <span class=nn>.forms</span> <span class=kn>import</span> <span class=n>PasswordResetRequestForm</span>
<span class=kn>from</span> <span class=nn>django.contrib</span> <span class=kn>import</span> <span class=n>messages</span>
<span class=kn>from</span> <span class=nn>django.contrib.auth.models</span> <span class=kn>import</span> <span class=n>User</span>
<span class=kn>from</span> <span class=nn>django.db.models.query_utils</span> <span class=kn>import</span> <span class=n>Q</span>

<span class=k>class</span> <span class=nc>ResetPasswordRequestView</span><span class=p>(</span><span class=n>FormView</span><span class=p>):</span>
    <span class=n>template_name</span> <span class=o>=</span> <span class=s2>&#34;account/test_template.html&#34;</span>
    <span class=n>success_url</span> <span class=o>=</span> <span class=s1>&#39;/account/login&#39;</span>
    <span class=n>form_class</span> <span class=o>=</span> <span class=n>PasswordResetRequestForm</span>

    <span class=k>def</span> <span class=nf>form_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>form</span> <span class=o>=</span> <span class=nb>super</span><span class=p>(</span><span class=n>ResetPasswordRequestView</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=n>form_valid</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=n>data</span><span class=o>=</span> <span class=n>form</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=s2>&#34;email_or_username&#34;</span><span class=p>]</span>
        <span class=n>user</span><span class=o>=</span> <span class=n>User</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>Q</span><span class=p>(</span><span class=n>email</span><span class=o>=</span><span class=n>data</span><span class=p>)</span><span class=o>|</span><span class=n>Q</span><span class=p>(</span><span class=n>username</span><span class=o>=</span><span class=n>data</span><span class=p>))</span><span class=o>.</span><span class=n>first</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>user</span><span class=p>:</span>
            <span class=n>c</span> <span class=o>=</span> <span class=p>{</span>
                <span class=s1>&#39;email&#39;</span><span class=p>:</span> <span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=p>,</span>
                <span class=s1>&#39;domain&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>META</span><span class=p>[</span><span class=s1>&#39;HTTP_HOST&#39;</span><span class=p>],</span>
                <span class=s1>&#39;site_name&#39;</span><span class=p>:</span> <span class=s1>&#39;your site&#39;</span><span class=p>,</span>
                <span class=s1>&#39;uid&#39;</span><span class=p>:</span> <span class=n>urlsafe_base64_encode</span><span class=p>(</span><span class=n>force_bytes</span><span class=p>(</span><span class=n>user</span><span class=o>.</span><span class=n>pk</span><span class=p>)),</span>
                <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=n>user</span><span class=p>,</span>
                <span class=s1>&#39;token&#39;</span><span class=p>:</span> <span class=n>default_token_generator</span><span class=o>.</span><span class=n>make_token</span><span class=p>(</span><span class=n>user</span><span class=p>),</span>
                <span class=s1>&#39;protocol&#39;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=o>.</span><span class=n>scheme</span><span class=p>,</span>
            <span class=p>}</span>
            <span class=n>email_template_name</span><span class=o>=</span><span class=s1>&#39;registration/password_reset_email.html&#39;</span>
            <span class=n>subject</span> <span class=o>=</span> <span class=s2>&#34;Reset Your Password&#34;</span>
            <span class=n>email</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>render_to_string</span><span class=p>(</span><span class=n>email_template_name</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
            <span class=n>send_mail</span><span class=p>(</span><span class=n>subject</span><span class=p>,</span> <span class=n>email</span><span class=p>,</span> <span class=n>DEFAULT_FROM_EMAIL</span> <span class=p>,</span> <span class=p>[</span><span class=n>user</span><span class=o>.</span><span class=n>email</span><span class=p>],</span> <span class=n>fail_silently</span><span class=o>=</span><span class=bp>False</span><span class=p>)</span>
        <span class=n>messages</span><span class=o>.</span><span class=n>success</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=p>,</span> <span class=s1>&#39;An email has been sent to &#39;</span> <span class=o>+</span> <span class=n>data</span> <span class=o>+</span><span class=s2>&#34; if it is a valid user.&#34;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>form</span>
</code></pre></div><p>As you see above, the code is fairly simple(although it looks long). An encoded user id has been generated here and a token by using. This user id is going to be used later to get the user, the token will be used for checking validity of the url for that user and both the token and the user id is going to be used as unique reference for reset password url. <strong>c</strong> is a dictionary which has user id, token and other related data etc. This dictionary is going to be blent with the template <code>registration/password_reset_email.html</code> and send to the user&rsquo;s email address. We will be using django&rsquo;s message framework to show messages.<div class=highlight><pre class=chroma><code class=language-django data-lang=django><span class=cp>{%</span> <span class=k>if</span> <span class=nv>messages</span> <span class=cp>%}</span><span class=x>
</span><span class=x>&lt;ul class=&#34;messages&#34;&gt;
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>for</span> <span class=nv>message</span> <span class=k>in</span> <span class=nv>messages</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    &lt;li&gt;</span><span class=cp>{%</span> <span class=k>if</span> <span class=nv>message.tags</span> <span class=cp>%}</span><span class=x> class=&#34;</span><span class=cp>{{</span> <span class=nv>message.tags</span> <span class=cp>}}</span><span class=x>&#34;</span><span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span><span class=x>&gt;</span><span class=cp>{{</span> <span class=nv>message</span> <span class=cp>}}</span><span class=x>&lt;/li&gt;
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>endfor</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>endif</span> <span class=cp>%}</span><span class=x>
</span><span class=x>&lt;/ul&gt;
</span><span class=x>
</span><span class=x>&lt;form action=&#34;&#34; method=&#34;post&#34;&gt;
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>csrf_token</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{{</span> <span class=nv>form.as_p</span> <span class=cp>}}</span><span class=x>
</span><span class=x>    &lt;input type=&#34;submit&#34; value=&#34;Submit&#34; /&gt;
</span><span class=x>&lt;/form&gt;
</span></code></pre></div><p>Two more things before wrapping up sending email part. One, making a url for using this view.<div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>urlpatterns</span> <span class=o>=</span> <span class=n>patterns</span><span class=p>(</span>
    <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;^account/reset_password&#39;</span><span class=p>,</span> <span class=n>ResetPasswordRequestView</span><span class=o>.</span><span class=n>as_view</span><span class=p>(),</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;reset_password&#34;</span><span class=p>),</span>
<span class=p>)</span>
</code></pre></div><p>Two, create or edit the template inside <strong>TEMPLATES</strong> directory named <code>registration/password_reset_email.html</code>.<div class=highlight><pre class=chroma><code class=language-django data-lang=django><span class=cp>{%</span> <span class=k>load</span> <span class=nv>i18n</span> <span class=cp>%}{%</span> <span class=k>autoescape</span> <span class=nv>off</span> <span class=cp>%}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>blocktrans</span> <span class=cp>%}</span><span class=x>You&#39;re receiving this email because you requested a password reset for your user account at </span><span class=cp>{{</span> <span class=nv>site_name</span> <span class=cp>}}{%</span><span class=k>endblocktrans</span> <span class=cp>%}</span><span class=x>
</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>trans</span> <span class=s2>&#34;Please go to the following page and choose a new password:&#34;</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>block</span> <span class=nv>reset_link</span> <span class=cp>%}</span><span class=x>
</span><span class=x>        </span><span class=cp>{{</span> <span class=nv>domain</span> <span class=cp>}}{%</span> <span class=k>url</span> <span class=s1>&#39;reset_password_confirm&#39;</span> <span class=nv>uidb64</span><span class=o>=</span><span class=nv>uid</span> <span class=nv>token</span><span class=o>=</span><span class=nv>token</span> <span class=cp>%}</span><span class=x>
</span><span class=x>    </span><span class=cp>{%</span> <span class=k>endblock</span> <span class=cp>%}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>trans</span> <span class=s2>&#34;Your username, in case you&#39;ve forgotten:&#34;</span> <span class=cp>%}</span><span class=x> </span><span class=cp>{{</span> <span class=nv>user.get_username</span> <span class=cp>}}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>trans</span> <span class=s2>&#34;Thanks for using our site!&#34;</span> <span class=cp>%}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>blocktrans</span> <span class=cp>%}</span><span class=x>The </span><span class=cp>{{</span> <span class=nv>site_name</span> <span class=cp>}}</span><span class=x> team</span><span class=cp>{%</span> <span class=k>endblocktrans</span> <span class=cp>%}</span><span class=x>
</span><span class=x></span><span class=cp>{%</span> <span class=k>endautoescape</span> <span class=cp>%}</span><span class=x>
</span></code></pre></div><p>Now run the server and you will see forms like the screen shots below: (This screenshots look cool because django adminsite&rsquo;s js/css have been used here.)<h3 id=screenshots-password-reset-flow>Screenshots password reset flow<a href=#screenshots-password-reset-flow class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h3><p>Rendered template from PasswordResetRequestForm form<div class=page-img-container><img class="lozad page-image" width=804 height=418 src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4MDQgNDE4Ii8+ data-src=/content/git/django-reset-password/reset-password_huab50579a67f8f09641b4297c32d8981c_22872_500x0_resize_q75_lanczos.jpg data-srcset="/content/git/django-reset-password/reset-password_huab50579a67f8f09641b4297c32d8981c_22872_500x0_resize_q75_lanczos.jpg 500w,/content/git/django-reset-password/reset-password_huab50579a67f8f09641b4297c32d8981c_22872_600x0_resize_q75_lanczos.jpg 600w,/content/git/django-reset-password/reset-password_huab50579a67f8f09641b4297c32d8981c_22872_720x0_resize_q75_lanczos.jpg 720w" alt="django reset" data-sizes=440w><noscript><img src=/content/git/django-reset-password/reset-password.jpg width=804 height=418 alt="django reset"></noscript></div><p>Rendered template from PasswordResetRequestForm form with error messages<div class=page-img-container><img class="lozad page-image" width=848 height=574 src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4NDggNTc0Ii8+ data-src=/content/git/django-reset-password/invalid-username_hu19a6ca25db9caf3d97e6432d96ec978e_28269_500x0_resize_q75_lanczos.jpg data-srcset="/content/git/django-reset-password/invalid-username_hu19a6ca25db9caf3d97e6432d96ec978e_28269_500x0_resize_q75_lanczos.jpg 500w,/content/git/django-reset-password/invalid-username_hu19a6ca25db9caf3d97e6432d96ec978e_28269_600x0_resize_q75_lanczos.jpg 600w,/content/git/django-reset-password/invalid-username_hu19a6ca25db9caf3d97e6432d96ec978e_28269_720x0_resize_q75_lanczos.jpg 720w" alt="django reset" data-sizes=440w><noscript><img src=/content/git/django-reset-password/invalid-username.jpg width=848 height=574 alt="django reset"></noscript></div><p>Rendered template of login form with sent email confirmation message<div class=page-img-container><img class="lozad page-image" width=944 height=848 src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5NDQgODQ4Ii8+ data-src=/content/git/django-reset-password/reset-mail-sent_hu16e7969b357b05ae889fe8f209f9580c_43053_500x0_resize_q75_lanczos.jpg data-srcset="/content/git/django-reset-password/reset-mail-sent_hu16e7969b357b05ae889fe8f209f9580c_43053_500x0_resize_q75_lanczos.jpg 500w,/content/git/django-reset-password/reset-mail-sent_hu16e7969b357b05ae889fe8f209f9580c_43053_600x0_resize_q75_lanczos.jpg 600w,/content/git/django-reset-password/reset-mail-sent_hu16e7969b357b05ae889fe8f209f9580c_43053_720x0_resize_q75_lanczos.jpg 720w" alt="django reset" data-sizes=440w><noscript><img src=/content/git/django-reset-password/reset-mail-sent.jpg width=944 height=848 alt="django reset"></noscript></div><p>Sent email look<div class=page-img-container><img class="lozad page-image" width=1244 height=416 src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjQ0IDQxNiIvPg==" data-src=/content/git/django-reset-password/reset-email_hua216f340e579333e3eaf26cdf1a7fb17_48360_500x0_resize_q75_lanczos.jpg data-srcset="/content/git/django-reset-password/reset-email_hua216f340e579333e3eaf26cdf1a7fb17_48360_500x0_resize_q75_lanczos.jpg 500w,/content/git/django-reset-password/reset-email_hua216f340e579333e3eaf26cdf1a7fb17_48360_600x0_resize_q75_lanczos.jpg 600w,/content/git/django-reset-password/reset-email_hua216f340e579333e3eaf26cdf1a7fb17_48360_720x0_resize_q75_lanczos.jpg 720w" alt="django reset" data-sizes=440w><noscript><img src=/content/git/django-reset-password/reset-email.jpg width=1244 height=416 alt="django reset"></noscript></div><h2 id=implementation-of-clicking-the-reset-url-and-entering-new-password-for-reset-completion>Implementation of clicking the reset url and entering new password for reset completion<a href=#implementation-of-clicking-the-reset-url-and-entering-new-password-for-reset-completion class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>First, lets write a <strong>form</strong> which will have two fields new password and retype password field.<div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>SetPasswordForm</span><span class=p>(</span><span class=n>forms</span><span class=o>.</span><span class=n>Form</span><span class=p>):</span>
    <span class=n>error_messages</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s1>&#39;password_mismatch&#39;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&#34;The two password fields didn&#39;t match.&#34;</span><span class=p>),</span>
        <span class=p>}</span>
    <span class=n>new_password1</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=p>(</span><span class=s2>&#34;New password&#34;</span><span class=p>),</span> <span class=n>required</span><span class=o>=</span><span class=bp>True</span><span class=p>,</span>
                                    <span class=n>widget</span><span class=o>=</span><span class=n>forms</span><span class=o>.</span><span class=n>PasswordInput</span><span class=p>)</span>
    <span class=n>new_password2</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>CharField</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=p>(</span><span class=s2>&#34;New password confirmation&#34;</span><span class=p>),</span> <span class=n>required</span><span class=o>=</span><span class=bp>True</span><span class=p>,</span>
                                    <span class=n>widget</span><span class=o>=</span><span class=n>forms</span><span class=o>.</span><span class=n>PasswordInput</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>clean_new_password2</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>password1</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;new_password1&#39;</span><span class=p>)</span>
        <span class=n>password2</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;new_password2&#39;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>password1</span> <span class=o>!=</span> <span class=n>password2</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>forms</span><span class=o>.</span><span class=n>ValidationError</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>error_messages</span><span class=p>[</span><span class=s1>&#39;password_mismatch&#39;</span><span class=p>],</span>
                <span class=n>code</span><span class=o>=</span><span class=s1>&#39;password_mismatch&#39;</span><span class=p>,</span>
            <span class=p>)</span>
        <span class=k>return</span> <span class=n>password2</span>
</code></pre></div><p>It will take two password input and verify if they match, if those inputs match(in clean method), it will return password. Now using that form, we are going to write a view(<a href=https://github.com/django/django/blob/731f313d604a6cc141f36d8a1ba9a75790c70154/django/contrib/auth/views.py#L192%22>reference for implementation</a>).<div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>class</span> <span class=nc>PasswordResetConfirmView</span><span class=p>(</span><span class=n>FormView</span><span class=p>):</span>
    <span class=n>template_name</span> <span class=o>=</span> <span class=s2>&#34;account/test_template.html&#34;</span>
    <span class=n>success_url</span> <span class=o>=</span> <span class=s1>&#39;/admin/&#39;</span>
    <span class=n>form_class</span> <span class=o>=</span> <span class=n>SetPasswordForm</span>

    <span class=k>def</span> <span class=nf>form_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>arg</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>form</span> <span class=o>=</span> <span class=nb>super</span><span class=p>(</span><span class=n>PasswordResetConfirmView</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=n>form_valid</span><span class=p>(</span><span class=o>*</span><span class=n>arg</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=n>uidb64</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>kwargs</span><span class=p>[</span><span class=s1>&#39;uidb64&#39;</span><span class=p>]</span>
        <span class=n>token</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>kwargs</span><span class=p>[</span><span class=s1>&#39;token&#39;</span><span class=p>]</span>
        <span class=n>UserModel</span> <span class=o>=</span> <span class=n>get_user_model</span><span class=p>()</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>uid</span> <span class=o>=</span> <span class=n>urlsafe_base64_decode</span><span class=p>(</span><span class=n>uidb64</span><span class=p>)</span>
            <span class=n>user</span> <span class=o>=</span> <span class=n>User</span><span class=o>.</span><span class=n>_default_manager</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>pk</span><span class=o>=</span><span class=n>uid</span><span class=p>)</span>
        <span class=k>except</span> <span class=p>(</span><span class=ne>TypeError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>,</span> <span class=ne>OverflowError</span><span class=p>,</span> <span class=n>User</span><span class=o>.</span><span class=n>DoesNotExist</span><span class=p>):</span>
            <span class=n>user</span> <span class=o>=</span> <span class=bp>None</span>

        <span class=k>if</span> <span class=n>user</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>None</span> <span class=ow>and</span> <span class=n>default_token_generator</span><span class=o>.</span><span class=n>check_token</span><span class=p>(</span><span class=n>user</span><span class=p>,</span> <span class=n>token</span><span class=p>):</span>
            <span class=n>new_password</span><span class=o>=</span> <span class=n>form</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=s1>&#39;new_password2&#39;</span><span class=p>]</span>
            <span class=n>user</span><span class=o>.</span><span class=n>set_password</span><span class=p>(</span><span class=n>new_password</span><span class=p>)</span>
            <span class=n>user</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
            <span class=n>messages</span><span class=o>.</span><span class=n>success</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=p>,</span> <span class=s1>&#39;Password reset has been successful.&#39;</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>messages</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=p>,</span> <span class=s1>&#39;Password reset has not been unsuccessful.&#39;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>form</span>
</code></pre></div><p>URL for this view:<div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>urlpatterns</span> <span class=o>+=</span> <span class=n>patterns</span><span class=p>(</span>
    <span class=n>url</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;^account/reset_password_confirm/(?P&lt;uidb64&gt;[0-9A-Za-z]+)-(?P&lt;token&gt;.+)/$&#39;</span><span class=p>,</span> <span class=n>PasswordResetConfirmView</span><span class=o>.</span><span class=n>as_view</span><span class=p>(),</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;reset_password_confirm&#39;</span><span class=p>),</span>
<span class=p>)</span>
</code></pre></div><p>Well <strong>PasswordResetConfirmView</strong> takes two parameter from urls, uidb64 and token, those were sent within email generated by <strong>ResetPasswordRequestView</strong>. We got user id hence the user by decoding <strong>uid64</strong>, and function <code>default_token_generator</code> checks the token against the user. If they are valid, then we set new password for the user. If they are not valid, it will show an error message saying the url is no longer valid.<h3 id=screenshots-reset-successful>Screenshots reset successful<a href=#screenshots-reset-successful class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h3><p>Rendered template for SetPasswordForm form<div class=page-img-container><img class="lozad page-image" width=994 height=608 src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5OTQgNjA4Ii8+ data-src=/content/git/django-reset-password/reset-password-prompt_hu6419a9133b2b033b89fce68db4e9b4f2_30916_500x0_resize_q75_lanczos.jpg data-srcset="/content/git/django-reset-password/reset-password-prompt_hu6419a9133b2b033b89fce68db4e9b4f2_30916_500x0_resize_q75_lanczos.jpg 500w,/content/git/django-reset-password/reset-password-prompt_hu6419a9133b2b033b89fce68db4e9b4f2_30916_600x0_resize_q75_lanczos.jpg 600w,/content/git/django-reset-password/reset-password-prompt_hu6419a9133b2b033b89fce68db4e9b4f2_30916_720x0_resize_q75_lanczos.jpg 720w" alt="django reset" data-sizes=440w><noscript><img src=/content/git/django-reset-password/reset-password-prompt.jpg width=994 height=608 alt="django reset"></noscript></div><p>Reset successful<div class=page-img-container><img class="lozad page-image" width=1098 height=780 src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDk4IDc4MCIvPg==" data-src=/content/git/django-reset-password/reset-success_hu3e57b2202d120f6c8d4503b6b38af8db_37369_500x0_resize_q75_lanczos.jpg data-srcset="/content/git/django-reset-password/reset-success_hu3e57b2202d120f6c8d4503b6b38af8db_37369_500x0_resize_q75_lanczos.jpg 500w,/content/git/django-reset-password/reset-success_hu3e57b2202d120f6c8d4503b6b38af8db_37369_600x0_resize_q75_lanczos.jpg 600w,/content/git/django-reset-password/reset-success_hu3e57b2202d120f6c8d4503b6b38af8db_37369_720x0_resize_q75_lanczos.jpg 720w" alt="django reset" data-sizes=440w><noscript><img src=/content/git/django-reset-password/reset-success.jpg width=1098 height=780 alt="django reset"></noscript></div><h2 id=alternative-reference-to-this-implementation>Alternative reference to this implementation<a href=#alternative-reference-to-this-implementation class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>You can check the <a href=https://docs.djangoproject.com/en/2.1/topics/auth/default/#module-django.contrib.auth.views>django authentication views</a> for your own implementation or customize them.<h2 id=in-conclusion>In conclusion<a href=#in-conclusion class=hanchor aria-label=Anchor><svg class="octicon octicon-link" viewBox="0 0 16 16" width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z"/></svg></a></h2><p>Thus you implement your very own forgot or reset the password. For full project/implementation, please check/fork <a href=https://github.com/ruddra/django-reset-password/tree/master>this repository</a>. If you have any questions, please share in the comment section below.<p>--<p>If you like this article, you can <a href=https://ko-fi.com/ruddra>buy me a coffee</a>. Thanks!<p><strong>Last updated</strong>: Nov 20, 2023</div></article></section><hr><section class=miscellaneous><ul class=side-share><li class=like-comment><span id=love-share><svg xmlns=http://www.w3.org/2000/svg id=love-share-sign class=love-share-sign width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M12 4.2c-3.1-5.4-12-3.8-12 2.9.0 4.7 5.6 9.4 12 15.8 6.4-6.4 12-11.1 12-15.8.0-6.8-8.9-8.3-12-2.9z"/></svg><span id=loved-count class=loved-count>x<span id=like-count>5</span></span></span><li class=like-comment><svg xmlns=http://www.w3.org/2000/svg id=show-comment-btn class=comment-sign width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M24 10.2C24 5.1 18.6 1 12 1S0 5.1.0 10.2s5.4 9.2 12.1 9.2c-.4 2-2.8 3.3-4.5 3.7 10.1-.9 16.4-6.5 16.4-12.8z"/></svg><span id=loved-count class=comment-count>x<span id=comment-counter>23<span></span></span></span></li><input type=checkbox id=_show_social_share><li class=share-button><label id=show-hide-share class=collapse-share for=_show_social_share><svg class=share-sign xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M5 7c2.761.0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5-5zm11.122 12.065c-.073.301-.122.611-.122.935.0 2.209 1.791 4 4 4s4-1.791 4-4-1.791-4-4-4c-1.165.0-2.204.506-2.935 1.301l-5.488-2.927c-.23.636-.549 1.229-.943 1.764l5.488 2.927zm7.878-15.065c0-2.209-1.791-4-4-4s-4 1.791-4 4c0 .324.049.634.122.935l-5.488 2.927c.395.535.713 1.127.943 1.764l5.488-2.927c.731.795 1.77 1.301 2.935 1.301 2.209.0 4-1.791 4-4z"/></svg><svg fill=#d0d0d0 xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M5 9c1.654.0 3 1.346 3 3s-1.346 3-3 3-3-1.346-3-3 1.346-3 3-3zm0-2c-2.762.0-5 2.239-5 5s2.238 5 5 5 5-2.239 5-5-2.238-5-5-5zm15 9c-1.165.0-2.204.506-2.935 1.301l-5.488-2.927c-.23.636-.549 1.229-.944 1.764l5.488 2.927c-.072.301-.121.611-.121.935.0 2.209 1.791 4 4 4s4-1.791 4-4-1.791-4-4-4zm0 6c-1.103.0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm0-22c-2.209.0-4 1.791-4 4 0 .324.049.634.121.935l-5.488 2.927c.395.536.713 1.128.944 1.764l5.488-2.927c.731.795 1.77 1.301 2.935 1.301 2.209.0 4-1.791 4-4s-1.791-4-4-4zm0 6c-1.103.0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"/></svg></label><li class=social-share><a target=_blank aria-label=FB rel=noreferrer href="https://www.facebook.com/dialog/share?app_id=668971647169067&display=page&href=https%3a%2f%2fruddra.com%2fimplementation-of-forgot-reset-password-feature-in-django%2f&redirect_uri=https%3a%2f%2fruddra.com%2fimplementation-of-forgot-reset-password-feature-in-django%2f"><svg class=fb-share-sign fill=#d0d0d0 xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M9 8H6v4h3v12h5V12h3.642L18 8h-4V6.333C14 5.378 14.192 5 15.115 5H18V0h-3.808C10.596.0 9 1.583 9 4.615V8z"/></svg></a><li class=social-share><a aria-label=Twitter target=_blank rel=noreferrer href="https://twitter.com/intent/tweet?text=Implementation%20of%20Forgot%2fReset%20Password%20Feature%20in%20Django&url=https%3a%2f%2fruddra.com%2fimplementation-of-forgot-reset-password-feature-in-django%2f"><svg class=tw-share-sign fill=#d0d0d0 xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179.0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142.0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a><li class=social-share><a aria-label=LN target=_blank rel=noreferrer href="https://www.linkedin.com/shareArticle/?mini=true&url=https%3a%2f%2fruddra.com%2fimplementation-of-forgot-reset-password-feature-in-django%2f&title=Implementation%20of%20Forgot%2fReset%20Password%20Feature%20in%20Django&summary=A%20DYI%20reset%2fforgot%20password%20implementation%20based%20on%20Django%27s%20source%20code%20in%20Django.&source="><svg xmlns=http://www.w3.org/2000/svg class=ln-share-sign width=24 height=24 viewBox="0 0 24 24" fill=#d0d0d0><path d="M5 3.5C5 4.9 3.9 6 2.5 6S0 4.9.0 3.5C0 2.1 1.1 1 2.5 1S5 2.1 5 3.5zM5 8H0v16h5V8zm8 0H8v16h5v-8.4c0-4.7 6-5.1 6 0V24h5V13.9c0-7.9-8.9-7.6-11-3.7v-2.2z"/></svg></a></ul><div class=tags><a class=tag-links-a href=/tags/python/ >Python</a> <a class=tag-links-a href=/tags/django/ >Django</a></div></section><section class=newsletter-section id=newsletter-submitted><h2 class=newsletter-header>Get Better With Python</h2><div id=commento-newsletter class="commento-root commento-root-font"><div id=newsletter-error class=commento-error-box style=display:none>An error occurred when submitting the form, please try again.</div><div id=newsletter-submitted-box style=display:none><p class=newsletter-submitted-txt>Thank you for subscribing to newsletters.<br>You will start receiving emails from next iteration.</div><div id=newsletter-body><div class=newsletter-txt>Subscribe to get monthly articles about Python and more.<br>I won't spam you. Unsubscribe at any time.</div><div id=commento-main-area-newsletter class=commento-main-area><form id=commento-form method=post action=https://talk.ruddra.com/.netlify/functions/server/v2/entry/ruddra/ruddra.comments/master/comments/ ><input type=hidden name=options[redirect] value=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/#newsletter-submitted> <input type=hidden name=options[slug] value=newsletter-subscription> <input type=hidden name=options[parent] value=newsletter-subscription> <input type=hidden name=options[origin] value=https://ruddra.com/newsletters/ > <input type=hidden name=options[redirectError] value=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/#newsletter-error><div id=commento-login class=commento-login><label id=email-newsletter><input aria-label="Enter your email address" type=email name=fields[email] placeholder="Enter your email address" class=newsletter-email-input required></label></div><div style=width:95.8%><button id=commento-submit-button-root-newsletter type=submit class="commento-button commento-submit-button">Subscribe</button><div class="commento-round-check commento-anonymous-checkbox-container"><input id=commento-checkbox-root name=options[subscribe] type=checkbox value=email required><label for=commento-checkbox-root>I agree to receive emails</label></div></div></form></div></div></div></section><section class=pagination><div class="pagination-item older"><span class=pagination-arrow>&#8592; Previous</span><div class=pagination-link><a href=https://ruddra.com/perodic-tasks-by-celery-3-1-example/ >Perodic Tasks By Celery 3.1 Example</a></div><div class=pagination-image><img class=lozad width=350 height=233 data-src=/content/images/2020/03/celery_hu8e19b0b9d9491490d482ead680fddfe8_1666329_350x0_resize_q75_lanczos.jpg alt="Perodic Tasks By Celery 3.1 Example"><noscript><img src=/content/images/2020/03/celery_hu8e19b0b9d9491490d482ead680fddfe8_1666329_350x0_resize_q75_lanczos.jpg alt="Perodic Tasks By Celery 3.1 Example"></noscript></div><p class=pagination-text>This post is deprecated. It is no longer compatible with latest Celery versions. I am assuming you …</div><div class="pagination-item newer"><span class=pagination-arrow>Next &#8594;</span><div class=pagination-link><a href=https://ruddra.com/using-intellijidea-within-an-exisiting-virtualenv/ >Using IntellijIdea/Pycharm Within An Exisiting …</a></div><div class=pagination-image><img width=350 height=233 class=lozad data-src=/content/images/2020/05/idea_hu4c38dfb5bb8db097d8791febddee99e5_2458669_350x0_resize_q75_lanczos.jpg alt="Using IntellijIdea/Pycharm Within An Exisiting Virtualenv"><noscript><img src=/content/images/2020/05/idea_hu4c38dfb5bb8db097d8791febddee99e5_2458669_350x0_resize_q75_lanczos.jpg alt="Using IntellijIdea/Pycharm Within An Exisiting Virtualenv"></noscript></div><p class=pagination-text>Adding virtual environment in PyCharm/Intellij IDEA for older and newer versions</div></section><section class=tiny id=comment-submitted><div id=commento class="commento-root commento-root-font"><div id=comment-submitted-box style=display:none>Thank you for your comment. It will be published shortly.</div><div id=comment-error style=display:none>An error occurred when submitting the form, please try again.</div><div id=commento-main-area class=commento-main-area><div class=commento-name id=comment-headline><b>Share Your Thoughts</b></div><form id=comment-form method=post name=comment-form><input type=hidden name=options[redirect] value=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/#comment-submitted> <input type=hidden name=options[slug] value=implementation-of-forgot-reset-password-feature-in-django> <input type=hidden name=options[parent] value=implementation-of-forgot-reset-password-feature-in-django> <input type=hidden name=options[origin] value=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/ > <input type=hidden id=comment-parent name=fields[reply_to]> <input type=hidden name=options[redirectError] value=https://ruddra.com/implementation-of-forgot-reset-password-feature-in-django/#comment-error> <textarea name=fields[comment] id=commento-textarea-root placeholder="Add a comment" required aria-label="Add a comment"></textarea> <button id=commento-submit-button-root type=submit class="commento-button commento-submit-button submit-github">Comment With Github</button><div class="commento-round-check commento-anonymous-checkbox-container"><input id=commento-anonymous-checkbox-root name=options[subscribe] type=checkbox value=email><label for=commento-anonymous-checkbox-root>Notify me of new comments</label></div><span onclick=toggleMarkDownTable() id=commento-markdown-button-root class=commento-markdown-button><b>M↓</b> <span class=commento-markdown>Markdown</span></span><table id=commento-markdown-help-root class=commento-markdown-help style=display:none><tr><td><i>italics</i><td>surround text with<code>*asterisks*</code><tr><td><b>bold</b><td>surround text with<code>**two asterisks**</code><tr><td><a href=https://example.com>hyperlink</a><td><code>[hyperlink](https://example.com)</code> or just a bare URL<tr><td><code>code</code><td>surround text with <code>`backticks`</code><tr><td><code>code block</code><td>surround text with <code>```console.log()```</code><tr><td><strike>strikethrough</strike><td>surround text with <code>~~two tilde characters~~</code><tr><td><blockquote>quote</blockquote><td>prefix with <code>></code><tr><td>Emoji 😱<td><b>:smile:</b>😄 <b>:angry:</b>😠 <b>:disappointed:</b>😞(<a href=https://www.webfx.com/tools/emoji-cheat-sheet/ >cheat sheet</a>)</table></form></div><div id=commento-comment class=commento-comments hidden aria-hidden=true><div id=commento-comment-card-1457414765 class=commento-card><div class=commento-header><div id=commento-comment-options-1457414765 class=commento-options><button id=commento-comment-reply-1457414765 href=#comment-form onclick='changeValue("fields[reply_to]","1457414765","Uma Maheswara Rao Pinninti")' title="Reply to Uma Maheswara Rao Pinninti" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/639829e54323f2b96046e05489da6696?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt="Uma Maheswara Rao Pinninti"><div id=commento-comment-name-1457414765 class=commento-name>Uma Maheswara Rao Pinninti</div><div id=commento-comment-subtitle-1457414765 class=commento-subtitle><div id=commento-comment-timeago-1457414765 title="Tuesday, Mar 8, 2016" class=commento-timeago>Tuesday, Mar 8, 2016</div></div></div><div id=commento-comment-body-1457414765 class=commento-body><p>Hi, This template throwing the below error. <code>Reverse for 'password_reset_confirm' with arguments '()' and keyword arguments '{u'uidb64': 'Mw', u'token': u'4a1-0432bcab41a9fde28f68'}' not found. 0 pattern(s) tried: []</code> Please respond as soon as possible.. Thank you.</div><div><div id=commento-comment-card-1468496400 class=commento-card><div class=commento-header><div id=commento-comment-options-1468496400 class=commento-options><button id=commento-comment-reply-1468496400 title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1457414765","Arnab Kumar Shil")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-1468496400 class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-1468496400 class=commento-subtitle><div id=commento-comment-timeago-1468496400 title="Thursday, Jul 14, 2016" class=commento-timeago>Thursday, Jul 14, 2016</div></div></div><div id=commento-comment-body-1468496400 class=commento-body><p>Check this answer, which should solve your problem <a href=http://stackoverflow.com/qu..>http://stackoverflow.com/qu..</a>. 😄</div></div></div></div><div id=commento-comment-card-1476925538 class=commento-card><div class=commento-header><div id=commento-comment-options-1476925538 class=commento-options><button id=commento-comment-reply-1476925538 href=#comment-form onclick='changeValue("fields[reply_to]","1476925538","Ashutosh")' title="Reply to Ashutosh" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/6f64aa66a48cc3feeba23e705d64f522?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt=Ashutosh><div id=commento-comment-name-1476925538 class=commento-name>Ashutosh</div><div id=commento-comment-subtitle-1476925538 class=commento-subtitle><div id=commento-comment-timeago-1476925538 title="Thursday, Oct 20, 2016" class=commento-timeago>Thursday, Oct 20, 2016</div></div></div><div id=commento-comment-body-1476925538 class=commento-body><p>I can not see the screenshots..</div><div><div id=commento-comment-card-1476925593 class=commento-card><div class=commento-header><div id=commento-comment-options-1476925593 class=commento-options><button id=commento-comment-reply-1476925593 title="Reply to Ashutosh" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1476925538","Ashutosh")'></button></div><img data-src="https://www.gravatar.com/avatar/6f64aa66a48cc3feeba23e705d64f522?s=70&r=pg&d=identicon" class="lozad commento-avatar-img"><div id=commento-comment-name-1476925593 class=commento-name>Ashutosh</div><div id=commento-comment-subtitle-1476925593 class=commento-subtitle><div id=commento-comment-timeago-1476925593 title="Thursday, Oct 20, 2016" class=commento-timeago>Thursday, Oct 20, 2016</div></div></div><div id=commento-comment-body-1476925593 class=commento-body><p>also i can not see the template code of other templates</div></div><div id=commento-comment-card-1477006754 class=commento-card><div class=commento-header><div id=commento-comment-options-1477006754 class=commento-options><button id=commento-comment-reply-1477006754 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1476925538","Ruddra")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-1477006754 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1477006754 class=commento-subtitle><div id=commento-comment-timeago-1477006754 title="Friday, Oct 21, 2016" class=commento-timeago>Friday, Oct 21, 2016</div></div></div><div id=commento-comment-body-1477006754 class=commento-body><p>Thanks for noticing. I have updated the post 😄</div></div></div></div><div id=commento-comment-card-1481425696 class=commento-card><div class=commento-header><div id=commento-comment-options-1481425696 class=commento-options><button id=commento-comment-reply-1481425696 href=#comment-form onclick='changeValue("fields[reply_to]","1481425696","Alex")' title="Reply to Alex" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/bc1fe4a4e8a5ad58136a2ba800ba6b77?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt=Alex><div id=commento-comment-name-1481425696 class=commento-name>Alex</div><div id=commento-comment-subtitle-1481425696 class=commento-subtitle><div id=commento-comment-timeago-1481425696 title="Sunday, Dec 11, 2016" class=commento-timeago>Sunday, Dec 11, 2016</div></div></div><div id=commento-comment-body-1481425696 class=commento-body><p>Thank You! is very useful.</div><div></div></div><div id=commento-comment-card-3132342514 class=commento-card><div class=commento-header><div id=commento-comment-options-3132342514 class=commento-options><button id=commento-comment-reply-3132342514 href=#comment-form onclick='changeValue("fields[reply_to]","3132342514","Aswa")' title="Reply to Aswa" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/44a678c57d295f7603d08cea6c48c415?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt=Aswa><div id=commento-comment-name-3132342514 class=commento-name>Aswa</div><div id=commento-comment-subtitle-3132342514 class=commento-subtitle><div id=commento-comment-timeago-3132342514 title="Wednesday, Feb 1, 2017" class=commento-timeago>Wednesday, Feb 1, 2017</div></div></div><div id=commento-comment-body-3132342514 class=commento-body><p>Great article, very useful! However, I cannot find <code>django/contrib/admin/templates/registration/password_reset_subject.txt</code></div><div></div></div><div id=commento-comment-card-1490178685 class=commento-card><div class=commento-header><div id=commento-comment-options-1490178685 class=commento-options><button id=commento-comment-reply-1490178685 href=#comment-form onclick='changeValue("fields[reply_to]","1490178685","sravani")' title="Reply to sravani" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/8b20bfaa1903a3c3babaeba6f31a5138?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt=sravani><div id=commento-comment-name-1490178685 class=commento-name>sravani</div><div id=commento-comment-subtitle-1490178685 class=commento-subtitle><div id=commento-comment-timeago-1490178685 title="Wednesday, Mar 22, 2017" class=commento-timeago>Wednesday, Mar 22, 2017</div></div></div><div id=commento-comment-body-1490178685 class=commento-body><p>what is the username and password</div><div><div id=commento-comment-card-1490752828 class=commento-card><div class=commento-header><div id=commento-comment-options-1490752828 class=commento-options><button id=commento-comment-reply-1490752828 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1490178685","Ruddra")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-1490752828 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1490752828 class=commento-subtitle><div id=commento-comment-timeago-1490752828 title="Wednesday, Mar 29, 2017" class=commento-timeago>Wednesday, Mar 29, 2017</div></div></div><div id=commento-comment-body-1490752828 class=commento-body><p>You can create user in your system and use the user&rsquo;s username and password</div></div></div></div><div id=commento-comment-card-1514043089 class=commento-card><div class=commento-header><div id=commento-comment-options-1514043089 class=commento-options><button id=commento-comment-reply-1514043089 href=#comment-form onclick='changeValue("fields[reply_to]","1514043089","Alejandro Hurtado")' title="Reply to Alejandro Hurtado" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/e54db53fbf8fc4b04b0340ac1e49c990?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt="Alejandro Hurtado"><div id=commento-comment-name-1514043089 class=commento-name>Alejandro Hurtado</div><div id=commento-comment-subtitle-1514043089 class=commento-subtitle><div id=commento-comment-timeago-1514043089 title="Saturday, Dec 23, 2017" class=commento-timeago>Saturday, Dec 23, 2017</div></div></div><div id=commento-comment-body-1514043089 class=commento-body><p>and if I want to use my own template? it does not look stylish with django admin, thanks</div><div></div></div><div id=commento-comment-card-1522121518 class=commento-card><div class=commento-header><div id=commento-comment-options-1522121518 class=commento-options><button id=commento-comment-reply-1522121518 href=#comment-form onclick='changeValue("fields[reply_to]","1522121518","Prabhash Tiwari")' title="Reply to Prabhash Tiwari" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/bd6ce394193aa91509745250df1f2c13?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt="Prabhash Tiwari"><div id=commento-comment-name-1522121518 class=commento-name>Prabhash Tiwari</div><div id=commento-comment-subtitle-1522121518 class=commento-subtitle><div id=commento-comment-timeago-1522121518 title="Tuesday, Mar 27, 2018" class=commento-timeago>Tuesday, Mar 27, 2018</div></div></div><div id=commento-comment-body-1522121518 class=commento-body><p>TemplateDoesNotExist at <code>/account/reset_password</code> why shows this error..</div><div><div id=commento-comment-card-1522150046 class=commento-card><div class=commento-header><div id=commento-comment-options-1522150046 class=commento-options><button id=commento-comment-reply-1522150046 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1522121518","Ruddra")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-1522150046 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1522150046 class=commento-subtitle><div id=commento-comment-timeago-1522150046 title="Tuesday, Mar 27, 2018" class=commento-timeago>Tuesday, Mar 27, 2018</div></div></div><div id=commento-comment-body-1522150046 class=commento-body><p>Hi, can you please create an issue on the github repository with the error stacktrace? In that way, I can easily figure out if something is wrong. Also don&rsquo;t forget to mention which django version you are using. Thanks</div></div></div></div><div id=commento-comment-card-1526560914 class=commento-card><div class=commento-header><div id=commento-comment-options-1526560914 class=commento-options><button id=commento-comment-reply-1526560914 href=#comment-form onclick='changeValue("fields[reply_to]","1526560914","Chinmoy Acharjee")' title="Reply to Chinmoy Acharjee" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/765b241e0be3c65883387f26c4570b3c?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt="Chinmoy Acharjee"><div id=commento-comment-name-1526560914 class=commento-name>Chinmoy Acharjee</div><div id=commento-comment-subtitle-1526560914 class=commento-subtitle><div id=commento-comment-timeago-1526560914 title="Thursday, May 17, 2018" class=commento-timeago>Thursday, May 17, 2018</div></div></div><div id=commento-comment-body-1526560914 class=commento-body><p>If i want to resend the email with that particular URL then how can i do it?</div><div><div id=commento-comment-card-1526591679 class=commento-card><div class=commento-header><div id=commento-comment-options-1526591679 class=commento-options><button id=commento-comment-reply-1526591679 title="Reply to Ruddra" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1526560914","Ruddra")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-1526591679 class="commento-name commento-moderator">Ruddra</div><div id=commento-comment-subtitle-1526591679 class=commento-subtitle><div id=commento-comment-timeago-1526591679 title="Friday, May 18, 2018" class=commento-timeago>Friday, May 18, 2018</div></div></div><div id=commento-comment-body-1526591679 class=commento-body><p>You can just use this code: <code># somehow you got email or username and put it in data associated_users= User.objects.filter(Q(email=data)|Q(username=data)) if associated_users.exists(): for user in associated_users: c = { 'email': user.email, 'domain': request.META['HTTP_HOST'], 'site_name': 'your site', 'uid': urlsafe_base64_encode(force_bytes(user.pk)), 'user': user, 'token': default_token_generator.make_token(user), 'protocol': 'http', } subject_template_name='registration/password_reset_subject.txt' # copied from django/contrib/admin/templates/registration/password_reset_subject.txt to templates directory email_template_name='registration/password_reset_email.html' # copied from django/contrib/admin/templates/registration/password_reset_email.html to templates directory subject = loader.render_to_string(subject_template_name, c) # Email subject *must not* contain newlines subject = ''.join(subject.splitlines()) email = loader.render_to_string(email_template_name, c) send_mail(subject, email, DEFAULT_FROM_EMAIL , [user.email], fail_silently=False)</code></div></div></div></div><div id=commento-comment-card-1538633903 class=commento-card><div class=commento-header><div id=commento-comment-options-1538633903 class=commento-options><button id=commento-comment-reply-1538633903 href=#comment-form onclick='changeValue("fields[reply_to]","1538633903","firoj khan")' title="Reply to firoj khan" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/9fc05004f489667982e79c9855b2ebe4?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt="firoj khan"><div id=commento-comment-name-1538633903 class=commento-name>firoj khan</div><div id=commento-comment-subtitle-1538633903 class=commento-subtitle><div id=commento-comment-timeago-1538633903 title="Thursday, Oct 4, 2018" class=commento-timeago>Thursday, Oct 4, 2018</div></div></div><div id=commento-comment-body-1538633903 class=commento-body><p>it giving error like The reset password link is no longer valid. in mail this link is going <code>http://127.0.0.1:8000/user/reset_password_confirm/(%3FPb'YTNlYWQyYWUtMTAyOC00ZjY1LTgwYTMtMWQ3NThiYjJjOTQ3'%5B0-9A-Za-z%5D+)-(%3FP505-9a4d4776744e45518e0e.+)/</code></div><div><div id=commento-comment-card-1546599372 class=commento-card><div class=commento-header><div id=commento-comment-options-1546599372 class=commento-options><button id=commento-comment-reply-1546599372 title="Reply to disqus_ZwWOr4FAus" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","1538633903","disqus_ZwWOr4FAus")'></button></div><img data-src="https://www.gravatar.com/avatar/23cfc552639d3666cf5c1646f13794be?s=70&r=pg&d=identicon" class="lozad commento-avatar-img"><div id=commento-comment-name-1546599372 class=commento-name>disqus_ZwWOr4FAus</div><div id=commento-comment-subtitle-1546599372 class=commento-subtitle><div id=commento-comment-timeago-1546599372 title="Friday, Jan 04, 2019" class=commento-timeago>Friday, Jan 04, 2019</div></div></div><div id=commento-comment-body-1546599372 class=commento-body><p>disqus_0GqaZnP8Yj important</div></div></div></div><div id=commento-comment-card-1557984365 class=commento-card><div class=commento-header><div id=commento-comment-options-1557984365 class=commento-options><button id=commento-comment-reply-1557984365 href=#comment-form onclick='changeValue("fields[reply_to]","1557984365","GMRIT-PUSHPITHA")' title="Reply to GMRIT-PUSHPITHA" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/eb0201253a8e794337facc59558eded2?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt=GMRIT-PUSHPITHA><div id=commento-comment-name-1557984365 class=commento-name>GMRIT-PUSHPITHA</div><div id=commento-comment-subtitle-1557984365 class=commento-subtitle><div id=commento-comment-timeago-1557984365 title="Thursday, May 16, 2019" class=commento-timeago>Thursday, May 16, 2019</div></div></div><div id=commento-comment-body-1557984365 class=commento-body><p>While i am doing this coding I got server 500 error. It is not showing successful message. for example message.success (&ldquo;email sent please check&rdquo;)</div><div></div></div><div id=commento-comment-card-1570576248 class=commento-card><div class=commento-header><div id=commento-comment-options-1570576248 class=commento-options><button id=commento-comment-reply-1570576248 href=#comment-form onclick='changeValue("fields[reply_to]","1570576248","ares19896")' title="Reply to ares19896" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://www.gravatar.com/avatar/6e0810b2a9c34aff79f1672519b0680b?s=70&r=pg&d=identicon" class="lozad commento-avatar-img" alt=ares19896><div id=commento-comment-name-1570576248 class=commento-name>ares19896</div><div id=commento-comment-subtitle-1570576248 class=commento-subtitle><div id=commento-comment-timeago-1570576248 title="Tuesday, Oct 8, 2019" class=commento-timeago>Tuesday, Oct 8, 2019</div></div></div><div id=commento-comment-body-1570576248 class=commento-body><p>In registration/password_reset_email.html: <code>{{ domain }}{% url 'reset_password_confirm' uidb64=uid token=token %}</code> I want to show in email, this link is &lsquo;Reset Password&rsquo;. Please help me</div><div></div></div><div id=commento-comment-card-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd class=commento-card><div class=commento-header><div id=commento-comment-options-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd class=commento-options><button id=commento-comment-reply-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd href=#comment-form onclick='changeValue("fields[reply_to]","c8ff63c0-e492-11ea-a7e7-757a2f87c0bd","mahesh")' title="Reply to mahesh" class="commento-option-button commento-option-reply onhover" style=right:0></button></div><img data-src="https://avatars1.githubusercontent.com/u/60998840?v=4" class="lozad commento-avatar-img" alt=mahesh><div id=commento-comment-name-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd class=commento-name>mahesh</div><div id=commento-comment-subtitle-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd class=commento-subtitle><div id=commento-comment-timeago-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd title="Saturday, Aug 22, 2020" class=commento-timeago>Saturday, Aug 22, 2020</div></div></div><div id=commento-comment-body-c8ff63c0-e492-11ea-a7e7-757a2f87c0bd class=commento-body><p>instead of this can u tell me how to fetch user details and send it to his registered email&mldr;</div><div><div id=commento-comment-card-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c class=commento-card><div class=commento-header><div id=commento-comment-options-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c class=commento-options><button id=commento-comment-reply-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c title="Reply to Arnab Kumar Shil" class="commento-option-button commento-option-reply onhover" style=right:0 href=#comment-form onclick='changeValue("fields[reply_to]","c8ff63c0-e492-11ea-a7e7-757a2f87c0bd","Arnab Kumar Shil")'></button></div><img data-src="https://avatars0.githubusercontent.com/u/3099861?v=4" class="lozad commento-avatar-img"><div id=commento-comment-name-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c class="commento-name commento-moderator">Arnab Kumar Shil</div><div id=commento-comment-subtitle-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c class=commento-subtitle><div id=commento-comment-timeago-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c title="Monday, Aug 24, 2020" class=commento-timeago>Monday, Aug 24, 2020</div></div></div><div id=commento-comment-body-ebfbe9f0-e5e8-11ea-8113-5db166dd6a6c class=commento-body><p>You need to see the implementation of <code>ResetPasswordRequestView</code>&rsquo;s <code>form_valid</code> method. There we fetch the user and send user data via <code>c = {..}</code> dictionary. You can modify this dictionary. Then inside <code>registration/password_reset_email.html</code> template, you can access those context variables and send them to user email.</div></div></div></div></div></div></section><footer id=copyright><p>&copy; 2023 Arnab Kumar Shil &#183; <a href=/privacy/ >Privacy</a><br><a href=/license>CC BY-SA 4.0</a> &#183; Made with <a href=https://gohugo.io>Hugo</a></footer></div><script src=/js/bundle1.min.1535f9f11247405cede2c32d63ff323351c975e1dff53ef240b83249eb6b5829.js defer></script><script>if("serviceWorker"in navigator){navigator.serviceWorker.register('/sw.js').then(reg=>{reg.installing;reg.waiting;reg.active;reg.addEventListener('updatefound',function(){var installingWorker=reg.installing;installingWorker.onstatechange=()=>{if(installingWorker.state==='installed'&&navigator.serviceWorker.controller){showReloadAlert();};};});});};</script>