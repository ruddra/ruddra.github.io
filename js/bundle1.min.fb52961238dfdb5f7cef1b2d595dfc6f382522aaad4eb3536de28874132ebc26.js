/*! lozad.js - v1.16.0 - 2020-09-06
* https://github.com/ApoorvSaxena/lozad.js
* Copyright (c) 2020 Apoorv Saxena; Licensed MIT */if(!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lozad=e()}(this,function(){"use strict";var e,n,s="undefined"!=typeof document&&document.documentMode,o={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()&&(o=e.querySelector("img"),c=!1,null===o&&(o=document.createElement("img"),c=!0),s&&e.getAttribute("data-iesrc")&&(o.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(o.alt=e.getAttribute("data-alt")),c&&e.append(o)),"video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var t,n,o,a,c,r=e.children,l=void 0,i=0;i<=r.length-1;i++)(l=r[i].getAttribute("data-src"))&&(r[i].src=l);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset")),a=",",e.getAttribute("data-background-delimiter")&&(a=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image")?e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(a).join("'),url('")+"')":e.getAttribute("data-background-image-set")&&(t=e.getAttribute("data-background-image-set").split(a),n=t[0].substr(0,t[0].indexOf(" "))||t[0],n=-1===n.indexOf("url(")?"url("+n+")":n,1===t.length?e.style.backgroundImage=n:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+n+"; background-image: -webkit-image-set("+t+"); background-image: image-set("+t+")")),e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function t(e){e.setAttribute("data-loaded",!0)}return e=function(e){return"true"===e.getAttribute("data-loaded")},n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)},function(){var a,l,u,h,f,m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=Object.assign({},o,g),d=s.root,p=s.rootMargin,v=s.threshold,r=s.load,c=s.loaded,i=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(i=new IntersectionObserver((h=r,f=c,function(n,s){n.forEach(function(n){(0<n.intersectionRatio||n.isIntersecting)&&(s.unobserve(n.target),e(n.target)||(h(n.target),t(n.target),f(n.target)))})}),{root:d,rootMargin:p,threshold:v}));for(l=n(m,d),a=0;a<l.length;a++)(u=l[a]).getAttribute("data-placeholder-background")&&(u.style.background=u.getAttribute("data-placeholder-background"));return{observe:function(){for(var o=n(m,d),s=0;s<o.length;s++)e(o[s])||(i?i.observe(o[s]):(r(o[s]),t(o[s]),c(o[s])))},triggerLoad:function(n){e(n)||(r(n),t(n),c(n))},observer:i}}}),"use strict",!('IntersectionObserver'in window)){var script=document.createElement("script"),observer,$comTarget,$spinner,elm,elem,showComment,commentForm,listener_,currentThemeName,currentTheme;script.src="/js/intersection-observer.js",document.getElementsByTagName('head')[0].appendChild(script)}if(observer=lozad(),observer.observe(),function(){if(!document.queryCommandSupported("copy"))return;function e(e,t){e.textContent=t,setTimeout(function(){e.textContent="Copy"},1e3)}function t(n){var e=window.getSelection(),t=document.createRange();return t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t),e}function n(s){var o,n=document.createElement("button");n.className="highlight-copy-btn",n.textContent="Copy",o=s.firstElementChild,n.addEventListener("click",function(){try{var s=t(o);document.execCommand("copy"),s.removeAllRanges(),e(n,"Copied!")}catch(t){console&&console.log(t),e(n,"Failed :'(")}}),s.appendChild(n)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)}(),window.location.hash=="#newsletter-submitted")$comTarget=document.getElementById('newsletter-submitted-box'),$comTarget.style.display='block',$comTarget=document.getElementById('newsletter-body'),$comTarget.style.display='none';else if(window.location.hash=="#newsletter-error"){$comTarget=document.getElementById('newsletter-error'),$comTarget.style.display='block';try{$spinner=document.getElementsByClassName('cover-spin'),$spinner.style.display='none'}catch(e){}}function loadLoader(){var e=document.createElement('div');e.setAttribute('class','cover-spin'),document.body.appendChild(e)}elm=document.getElementById("commento-form"),elm&&(elm.onsubmit=loadLoader);function displayComments(){var e=document.getElementById('commento-comment');e&&(e.style.display='block')}elem=document.getElementById('commento'),observer=new IntersectionObserver(function(e){var t=e[0];t.intersectionRatio>0&&(displayComments(),colorComments())}),elem&&observer.observe(elem),showComment=document.getElementById('show-comment-btn');function showComments(){displayComments(),location.hash="#comment-headline"}showComment&&showComment.addEventListener('click',showComments);function colorComments(){var e=document.querySelectorAll('[id^="commento-comment-card-"]');e.forEach(function(e){console.log(e);var t=e.id.replace('commento-comment-card-','#').substring(0,7);e.style.borderLeftColor=t})}function setData(t,e){try{localStorage.setItem(t,e)}catch(n){e=encodeURIComponent(e),document.cookie=t+"="+(e||"")+";expires=expires=Fri, 31 Dec 9999 23:59:59 UTC;path=/"}}function getData(s){try{return localStorage.getItem(s)}catch(i){for(var e,o=s+"=",n=document.cookie.split(';'),t=0;t<n.length;t++){for(e=n[t];e.charAt(0)==' ';)e=e.substring(1,e.length);if(e.indexOf(o)==0)return decodeURIComponent(e.substring(o.length,e.length))}return null}}function eraseData(e){try{return localStorage.removeItem(e)}catch(t){document.cookie=e+'=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;'}}if(window.location.hash=="#comment-submitted")$comTarget=document.getElementById('comment-submitted-box'),$comTarget.style.display='block';else if(window.location.hash=="#comment-error"){$comTarget=document.getElementById('comment-error'),$comTarget.style.display='block';try{$spinner=document.getElementsByClassName('cover-spin'),$spinner.style.display='none'}catch(e){}}function storeForm(){var e=document.getElementById('comment-parent'),t=document.getElementById('commento-textarea-root'),n=document.getElementById('commento-anonymous-checkbox-root');setData('comment-parent',e.value),setData('comment',t.value),setData('getemail',n.checked)}function updateForm(){var e,a=document.getElementById('comment-parent'),o=document.getElementById('commento-textarea-root'),t=document.getElementById('commento-anonymous-checkbox-root'),i=getData('comment-parent'),n=getData('comment'),s=getData('getemail');return n?(a.value=i,o.value=n,s==!0||s=='true'?t.checked=!0:t.checked=!1,e=!0):e=!1,eraseData('comment-parent'),eraseData('comment'),eraseData('getemail'),e}function getCode(){if(URLSearchParams)t=new URLSearchParams(window.location.search),e=t.get('code');else{var e,t,n=function(){var t,s,n={},e=(window.location.search.split('?')[1]||'').split('&');for(s in e)e.hasOwnProperty(s)&&(t=e[s].split('='),n[t[0]]=decodeURIComponent(t[1]||""));return n};e=n().code}return e}function submitComment(e){var t,n=getCode();document.getElementById('commento-submit-button-root').disabled=!0,n?e.currentTarget.submit():(e.preventDefault(),storeForm(),t=window.location.href,window.location.href="https://github.com/login/oauth/authorize?scope=user:email&client_id=bc27cd2859301269f316&redirect_uri="+t)}commentForm=document.getElementById('comment-form')||!1,commentForm&&commentForm.addEventListener('submit',submitComment);function submitFormWithCode(){var e,t,s,n=getCode(),o="https://ruddra-comments.netlify.app/.netlify/functions/server/v2/custom/ruddra/ruddra.comments/master/comments/";if(n){if(e=document.createElement('div'),e.setAttribute('class','cover-spin'),document.body.appendChild(e),s=updateForm(),!s)return window.location.href="#comment-error",null;t=document.getElementById('comment-form'),t.action=o+n,t.submit()}}submitFormWithCode();function toggleMarkDownTable(){var e=document.getElementById("commento-markdown-help-root");e.style.display==="none"?e.style.display="block":e.style.display="none"}function increaseLikeCounter(){var t,s,n=document.getElementById("like-count"),e=parseInt(n.innerText,10);isNaN(e)?setTimeout(function(){increaseLikeCounter()},0):(e++,n.innerText=e,s=document.getElementById("loved-count"),t=document.getElementById("love-share"),t.style.cursor='auto',t.removeEventListener('click',loveArticle),s.style.textShadow="-0.02ex 0 #222,0.02ex 0 #222")}function loveArticle(){if(alreadyLiked()==!0)return;storeLiked(),makePink(),submitLike()}function alreadyLiked(){return isNaN(getData("liked-"+getSlug()))}function getSlug(){return window.location.pathname.split('/').reverse()[1]}function createCORSRequest(t,n){var e=new XMLHttpRequest;return"withCredentials"in e?e.open(t,n,!0):typeof XDomainRequest!="undefined"?(e=new XDomainRequest,e.open(t,n)):e=null,e}function makeHttpRequest(t){var e,i,n=getSlug(),s={"options[parent]":n,"options[slug]":n,"options[origin]":"https://ruddra.com/likes","fields[email]":window.location.href},o=[];Object.keys(s).forEach(function(e){var t=e+"="+s[e];o.push(t)}),i="https://ruddra-comments.netlify.app/.netlify/functions/server/v2/entry/github/ruddra/ruddra.likes/master/comments/",e=createCORSRequest("POST",i),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.setRequestHeader("Access-Control-Allow-Origin","*"),e.onload=function(){this.status===200?(increaseLikeCounter(),makeRed()):t>0&&setTimeout(function(){makeHttpRequest(t--)},1e3)},e.onerror=function(){setTimeout(function(){makeHttpRequest(t--)},1e3)},e.send(o.join('&'))}function submitLike(){var e=5;makeHttpRequest(e)}function storeLiked(){setData("liked-"+getSlug(),"liked")}function makeRed(){var e=document.getElementById("love-share-sign");e.style.fill="#ff0000"}function makePink(){var e=document.getElementById("love-share-sign");e.style.fill="#ff8fc7"}function showLiked(){alreadyLiked()==!0&&makeRed()}showLiked(),listener_=document.getElementById("love-share"),listener_&&listener_.addEventListener('click',loveArticle);function changeValue(t,n,s){document.getElementsByName(t)[0].value=n;var e=document.getElementById('comment-headline');e.innerHTML="<b>Reply To: "+s+"</b>",e.scrollIntoView()}function addSnackbar(a,r,c,l,i){var t,n,s,o,e=document.createElement('div');e.setAttribute('id',l),e.setAttribute('class','show'),n=document.createTextNode(a),e.appendChild(n),i&&(s=document.createElement('br'),o=document.createElement('br'),e.appendChild(s),e.appendChild(o)),t=document.createElement('span'),t.appendChild(r),t.appendChild(c),e.appendChild(t),document.body.appendChild(e)}function showReloadAlert(){var e,n,t=document.createElement('a'),s=document.createTextNode("Click here to refresh");t.setAttribute('class','clsbtnreload'),t.appendChild(s),n=document.createElement('span'),n.appendChild(t),s=document.createTextNode(" the page"),n.appendChild(s),t.onclick=function(){var e=document.getElementById('alert');e.remove(),window.location.reload()},e=document.createElement('span'),e.setAttribute('class',"closebtn"),e.innerHTML="&times;",e.onclick=function(){var e=document.getElementById('alert');e.remove()},addSnackbar("New contents are available. ",n,e,'alert',!1)}function showPrivacy(){setTimeout(function(){var e,t,s,o,n="cookieSeen";getData(n)||(e=document.createElement('a'),e.setAttribute('href','/privacy/'),s=document.createTextNode("More Details"),e.appendChild(s),e.setAttribute('href','/privacy/'),t=document.createElement('a'),t.onclick=function(){var e=document.getElementById('snackbar');e.remove()},t.setAttribute('id','close-privacy'),o=document.createTextNode("OK"),t.appendChild(o),addSnackbar("Cookies are served on this site to analyze traffic, remember your preferences and optimize your experience.",e,t,'snackbar',!0),setData(n,!0)),window.dataLayer=window.dataLayer||[{gaPropertyId:"UA-58095062-1"}];function i(){dataLayer.push(arguments)}i('js',new Date),i('config','G-WQRZ19BYG6'),function(t,s,o,e,a){t[e]=t[e]||[],t[e].push({'gtm.start':(new Date).getTime(),event:'gtm.js'});var i=s.getElementsByTagName(o)[0],n=s.createElement(o),r=e!='dataLayer'?'&l='+e:'';n.async=!0,n.src='/js/tags.js?id='+a+r+'&gtm_cookies_win=x',i.parentNode.insertBefore(n,i)}(window,document,'script','dataLayer','G-WQRZ19BYG6')},5e3)}showPrivacy(),currentThemeName="currentTheme";function toggleTheme(){var e=getData(currentThemeName);e&&e=='dark'?(eraseData(currentThemeName),setData(currentThemeName,'light')):e&&e=='light'?(eraseData(currentThemeName),setData(currentThemeName,'dark')):window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches?setData(currentThemeName,'light'):setData(currentThemeName,'dark')}if(currentTheme=getData(currentThemeName),currentTheme==null&&window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches)document.body.classList.add("dark-theme"),setData(currentThemeName,'dark');else if(getData(currentThemeName)=='dark')document.body.classList.add("dark-theme");else{try{document.body.classList.remove("dark-theme")}catch(e){}setData(currentThemeName,'light')}const btn=document.querySelector(".btn-toggle-thm");btn.addEventListener("click",function(){document.body.classList.toggle("dark-theme"),toggleTheme()})