var script,observer,$comTarget,$spinner,commentForm,listener_,elem,showComment,currentThemeName,currentTheme;function setData(e,t){try{localStorage.setItem(e,t)}catch{t=encodeURIComponent(t),document.cookie=e+"="+(t||"")+";expires=expires=Fri, 31 Dec 9999 23:59:59 UTC;path=/"}}function getData(e){try{return localStorage.getItem(e)}catch{for(var t,n=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(t=o[r];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(n))return decodeURIComponent(t.substring(n.length,t.length))}return null}}function eraseData(e){try{return localStorage.removeItem(e)}catch{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}}if(((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.lozad=t()})(this,function(){var l,u,c="undefined"!=typeof document&&document.documentMode,g={rootMargin:"0px",threshold:0,load:function(e){var t,n;if("picture"===e.nodeName.toLowerCase()&&(n=!1,null===(t=e.querySelector("img"))&&(t=document.createElement("img"),n=!0),c&&e.getAttribute("data-iesrc")&&(t.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(t.alt=e.getAttribute("data-alt")),n)&&e.append(t),"video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o,r=e.children,a=0;a<=r.length-1;a++)(o=r[a].getAttribute("data-src"))&&(r[a].src=o);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset")),n=",",e.getAttribute("data-background-delimiter")&&(n=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image")?e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(n).join("'),url('")+"')":e.getAttribute("data-background-image-set")&&(n=-1===(n=(t=e.getAttribute("data-background-image-set").split(n))[0].substr(0,t[0].indexOf(" "))||t[0]).indexOf("url(")?"url("+n+")":n,1===t.length?e.style.backgroundImage=n:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+n+"; background-image: -webkit-image-set("+t+"); background-image: image-set("+t+")")),e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function h(e){e.setAttribute("data-loaded",!0)}return l=function(e){return"true"===e.getAttribute("data-loaded")},u=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)},function(){var e,t,n,o,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",c=Object.assign({},g,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),i=c.root,d=c.load,m=c.loaded,s=void 0;for("undefined"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((r=d,o=m,function(e,t){e.forEach(function(e){(0<e.intersectionRatio||e.isIntersecting)&&(t.unobserve(e.target),l(e.target)||(r(e.target),h(e.target),o(e.target)))})}),{root:i,rootMargin:c.rootMargin,threshold:c.threshold})),n=u(a,i),e=0;e<n.length;e++)(t=n[e]).getAttribute("data-placeholder-background")&&(t.style.background=t.getAttribute("data-placeholder-background"));return{observe:function(){for(var e=u(a,i),t=0;t<e.length;t++)l(e[t])||(s?s.observe(e[t]):(d(e[t]),h(e[t]),m(e[t])))},triggerLoad:function(e){l(e)||(d(e),h(e),m(e))},observer:s}}}),"IntersectionObserver"in window||((script=document.createElement("script")).src="/js/intersection-observer.js",document.getElementsByTagName("head")[0].appendChild(script)),(observer=lozad()).observe(),(()=>{var e;function c(e,t){e.textContent=t,setTimeout(function(){e.textContent="Copy"},1e3)}document.queryCommandSupported("copy")&&(e=document.getElementsByClassName("highlight"),Array.prototype.forEach.call(e,function(e){var r,a=document.createElement("button");a.className="highlight-copy-btn",a.textContent="Copy",r=e.firstElementChild,a.addEventListener("click",function(){try{t=r,n=window.getSelection(),(o=document.createRange()).selectNodeContents(t),n.removeAllRanges(),n.addRange(o);var e=n;document.execCommand("copy"),e.removeAllRanges(),c(a,"Copied!")}catch(e){console&&console.log(e),c(a,"Failed :'(")}var t,n,o}),e.appendChild(a)}))})(),"#comment-submitted"==window.location.hash)($comTarget=document.getElementById("comment-submitted-box")).style.display="block";else if("#comment-error"==window.location.hash){($comTarget=document.getElementById("comment-error")).style.display="block";try{($spinner=document.getElementsByClassName("cover-spin")).style.display="none"}catch{}}function storeForm(){var e=document.getElementById("comment-parent"),t=document.getElementById("commento-textarea-root"),n=document.getElementById("commento-anonymous-checkbox-root");setData("comment-parent",e.value),setData("comment",t.value),setData("getemail",n.checked)}function updateForm(){var e=document.getElementById("comment-parent"),t=document.getElementById("commento-textarea-root"),n=document.getElementById("commento-anonymous-checkbox-root"),o=getData("comment-parent"),r=getData("comment"),a=getData("getemail"),e=!!r&&(e.value=o,t.value=r,n.checked=1==a||"true"==a,!0);return eraseData("comment-parent"),eraseData("comment"),eraseData("getemail"),e}function getCode(){return URLSearchParams?new URLSearchParams(window.location.search).get("code"):(()=>{var e,t,n={},o=(window.location.search.split("?")[1]||"").split("&");for(t in o)o.hasOwnProperty(t)&&(e=o[t].split("="),n[e[0]]=decodeURIComponent(e[1]||""));return n})().code}function submitComment(e){var t=getCode();document.getElementById("commento-submit-button-root").disabled=!0,t?e.currentTarget.submit():(e.preventDefault(),storeForm(),t=window.location.href,window.location.href="https://github.com/login/oauth/authorize?scope=user:email&client_id=bc27cd2859301269f316&redirect_uri="+t)}function submitFormWithCode(){var e,t=getCode();if(t){if((e=document.createElement("div")).setAttribute("class","cover-spin"),document.body.appendChild(e),!updateForm())return window.location.href="#comment-error",null;(e=document.getElementById("comment-form")).action="https://talk2.ruddra.com/.netlify/functions/server/v2/custom/ruddra/ruddra.comments/master/comments/"+t,e.submit()}}function toggleMarkDownTable(){var e=document.getElementById("commento-markdown-help-root");"none"===e.style.display?e.style.display="block":e.style.display="none"}function increaseLikeCounter(){var e=document.getElementById("like-count"),t=parseInt(e.innerText,10);isNaN(t)?setTimeout(function(){increaseLikeCounter()},0):(e.innerText=++t,e=document.getElementById("loved-count"),(t=document.getElementById("love-share")).style.cursor="auto",t.removeEventListener("click",loveArticle),e.style.textShadow="-0.02ex 0 #222,0.02ex 0 #222")}function loveArticle(){1!=alreadyLiked()&&(storeLiked(),makePink(),submitLike())}function alreadyLiked(){return isNaN(getData("liked-"+getSlug()))}function getSlug(){return window.location.pathname.split("/").reverse()[1]}function makeHttpRequest(){var e=getSlug(),e={"options[parent]":e,"options[slug]":e,"options[origin]":"https://ruddra.com/","fields[email]":window.location.href},e=new URLSearchParams(e).toString();fetch("https://talk2.ruddra.com/.netlify/functions/server/v2/entry/github/ruddra/ruddra.likes/master/comments/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then(e=>{increaseLikeCounter(),makeRed()}).catch(e=>{increaseLikeCounter(),makeRed(),console.log("Error: "+e)})}function submitLike(){makeHttpRequest()}function storeLiked(){setData("liked-"+getSlug(),"liked")}function makeRed(){document.getElementById("love-share-sign").style.fill="#ff0000"}function makePink(){document.getElementById("love-share-sign").style.fill="#ff8fc7"}function showLiked(){1==alreadyLiked()&&makeRed()}function changeValue(e,t,n){document.getElementsByName(e)[0].value=t;e=document.getElementById("comment-headline");e.innerHTML="<b>Reply To: "+n+"</b>",e.scrollIntoView()}function colorComments(){document.querySelectorAll('[id^="commento-comment-card-"]').forEach(function(e){console.log(e);var t=e.id.replace("commento-comment-card-","#").substring(0,7);e.style.borderLeftColor=t})}function displayComments(){var e=document.getElementById("commento-comment");e&&(e.style.display="block")}function showComments(){displayComments(),location.hash="#comment-headline"}function addSnackbar(e,t,n,o,r){var a=document.createElement("div");a.setAttribute("id",o),a.setAttribute("class","show"),o=document.createTextNode(e),a.appendChild(o),r&&(e=document.createElement("br"),o=document.createElement("br"),a.appendChild(e),a.appendChild(o)),(r=document.createElement("span")).appendChild(t),r.appendChild(n),a.appendChild(r),document.body.appendChild(a)}function showReloadAlert(){var e,t=document.createElement("a"),n=document.createTextNode("Click here to refresh");t.setAttribute("class","clsbtnreload"),t.appendChild(n),(e=document.createElement("span")).appendChild(t),n=document.createTextNode(" the page"),e.appendChild(n),t.onclick=function(){document.getElementById("alert").remove(),window.location.reload()},(n=document.createElement("span")).setAttribute("class","closebtn"),n.innerHTML="&times;",n.onclick=function(){document.getElementById("alert").remove()},addSnackbar("New contents are available. ",e,n,"alert",!1)}function showPrivacy(){setTimeout(function(){var e="cookieSeen";function t(){dataLayer.push(arguments)}getData(e)||((o=document.createElement("a")).setAttribute("href","/privacy/"),r=document.createTextNode("More Details"),o.appendChild(r),o.setAttribute("href","/privacy/"),(r=document.createElement("a")).onclick=function(){document.getElementById("snackbar").remove()},r.setAttribute("id","close-privacy"),n=document.createTextNode("OK"),r.appendChild(n),addSnackbar("Cookies are served on this site to analyze traffic, remember your preferences and optimize your experience.",o,r,"snackbar",!0),setData(e,!0)),window.dataLayer=window.dataLayer||[{gaPropertyId:"UA-58095062-1"}],t("js",new Date),t("config","G-WQRZ19BYG6");var n=window,o=document,r="dataLayer";n[r]=n[r]||[],n[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),n=o.getElementsByTagName("script")[0],(r=o.createElement("script")).async=!0,r.src="/js/tags.js?id=G-WQRZ19BYG6&gtm_cookies_win=x",n.parentNode.insertBefore(r,n)},5e3)}function toggleTheme(){var e=getData(currentThemeName);e&&"dark"==e?(eraseData(currentThemeName),setData(currentThemeName,"light")):e&&"light"==e?(eraseData(currentThemeName),setData(currentThemeName,"dark")):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?setData(currentThemeName,"light"):setData(currentThemeName,"dark")}if((commentForm=document.getElementById("comment-form")||!1)&&commentForm.addEventListener("submit",submitComment),submitFormWithCode(),showLiked(),(listener_=document.getElementById("love-share"))&&listener_.addEventListener("click",loveArticle),elem=document.getElementById("commento"),observer=new IntersectionObserver(function(e){0<e[0].intersectionRatio&&(displayComments(),colorComments())}),elem&&observer.observe(elem),(showComment=document.getElementById("show-comment-btn"))&&showComment.addEventListener("click",showComments),showPrivacy(),null==(currentTheme=getData(currentThemeName="currentTheme"))&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)document.body.classList.add("dark-theme"),setData(currentThemeName,"dark");else if("dark"==getData(currentThemeName))document.body.classList.add("dark-theme");else{try{document.body.classList.remove("dark-theme")}catch{}setData(currentThemeName,"light")}let btn=document.querySelector(".btn-toggle-thm");btn.addEventListener("click",function(){document.body.classList.toggle("dark-theme"),toggleTheme()});